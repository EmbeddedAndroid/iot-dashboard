{"version":3,"sources":["webpack:///./src/app.ts","webpack:///./~/jquery/dist/jquery.min.js?48cd","webpack:///./~/jquery/dist/jquery.min.js?736f","webpack:///./~/react/dist/react.min.js?4077","webpack:///./~/lodash/lodash.js?08c1","webpack:///./src/pluginApi/freeboardPluginApi.js","webpack:///./src/pluginApi/freeboardDatasource.js","webpack:///./src/pluginApi/pluginCache.ts","webpack:///./src/pluginApi/pluginApi.ts","webpack:///./src/app.css","webpack:///./src/index.html","webpack:///./~/isomorphic-fetch/fetch-npm-browserify.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/renderer.js","webpack:///./src/pageLayout.tsx","webpack:///./src/dashboard/global.js","webpack:///./src/actionNames.ts","webpack:///./src/widgets/widgetGrid.ui.js","webpack:///./src/widgets/widgets.ts","webpack:///./src/util/uuid.js","webpack:///./src/util/reducer.js","webpack:///./src/widgets/widgetFrame.ui.js","webpack:///./src/widgets/widgetConfig.js","webpack:///./src/modal/modalDialog.js","webpack:///./src/modal/modalDialogIds.ts","webpack:///./src/dashboard.ts","webpack:///./src/datasource/datasourcePluginRegistry.ts","webpack:///./src/pluginApi/pluginRegistry.ts","webpack:///./src/datasource/datasourcePluginFactory.ts","webpack:///./src/datasource/datasource.ts","webpack:///./src/datasource/datasourcePluginInstance.ts","webpack:///./src/datasource/datasourceData.ts","webpack:///./src/pluginApi/pluginTypes.ts","webpack:///./src/pluginApi/pluginLoader.ts","webpack:///./src/datasource/datasourcePlugins.ts","webpack:///./src/widgets/widgetPlugins.ts","webpack:///./src/util/scriptLoader.ts","webpack:///./src/widgets/widgetPluginRegistry.ts","webpack:///./src/widgets/widgetPluginFactory.ts","webpack:///./src/widgets/widgetPluginInstance.ts","webpack:///./src/widgets/widgetIFrame.ui.tsx","webpack:///./src/widgets/widthProvider.ui.js","webpack:///./src/layouts/layouts.ui.js","webpack:///./src/layouts/layouts.js","webpack:///./src/ui/elements.ui.js","webpack:///./src/widgets/widgetConfigDialog.ui.js","webpack:///./src/modal/modalDialog.ui.tsx","webpack:///./src/ui/settingsForm.ui.js","webpack:///./src/util/collection.js","webpack:///./src/dashboard/dashboardMenuEntry.ui.js","webpack:///./src/dashboard/importExportDialog.ui.js","webpack:///./src/dashboard/import.ts","webpack:///./src/datasource/datasourceConfigDialog.ui.js","webpack:///./src/datasource/datasourceNavItem.ui.js","webpack:///./src/widgets/widgetsNavItem.ui.js","webpack:///./src/pluginApi/pluginNavItem.ui.tsx","webpack:///./src/pluginApi/pluginsDialog.ui.tsx","webpack:///./src/config.ts","webpack:///./src/buildInfo.json","webpack:///./src/persistence.ts","webpack:///./src/datasource/datasourceFrames.ui.tsx","webpack:///./src/store.ts"],"names":[],"mappings":"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AAoB;AACtD;AACA;;AAEA;AACA;AACA,yCAAwC,4BAA4B;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD,UAAS;AACT;AACA,UAAS;AACT,+EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA,wCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;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","file":"app.bundle.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport \"semantic-ui-css/semantic.css\";\nimport \"semantic-ui-css/semantic\";\nimport \"expose?$!expose?jQuery!jquery\";\nimport \"expose?React!react\";\nimport \"expose?_!lodash\";\nimport \"./pluginApi/freeboardPluginApi\";\nimport \"./pluginApi/pluginApi\";\nimport \"./app.css\";\nimport \"file?name=[name].[ext]!./index.html\";\nimport \"react-grid-layout/css/styles.css\";\nimport \"isomorphic-fetch\";\nimport * as es6promise from \"es6-promise\";\nimport * as Renderer from \"./renderer.js\";\nimport * as Store from \"./store\";\nimport * as Persist from \"./persistence\";\nimport Dashboard from \"./dashboard\";\nimport * as $ from 'jquery'\nimport * as AppState from './appState'\n\nconst loadPredefinedState = $.get('./dashboard.json');\nes6promise.polyfill()\n\nloadPredefinedState.then((data: any) => {\n    console.log(\"Starting dashboard with predefined state\");\n    runWithState(data);\n}).fail((error) => {\n    if (error.status === 404) {\n        // When the file is not available just start the dashboard in devMode\n        console.warn(\"There is no ./dashboard.json - The Dashboard will be loaded in Developer Mode and everything can be edited.\\n\" +\n            \"To run the board with a predefined configuration go to 'Board > Import / Export'\\n\" +\n            \"and save the exported content in a file named 'dashboard.json' next to the index.html (i.e. './dist/dashboard.json')\")\n        runWithState();\n    }\n    else if (confirm(\"Failed to load Dashboard from dashboard.json\\n\" +\n            \"\\n\" +\n            \"Try to load in developer mode instated?\")) {\n        runWithState();\n    }\n});\n\n\nfunction runWithState(configuredState?: AppState.State) {\n    let initialState = configuredState;\n    let storeOptions = Store.defaultStoreOptions();\n    if (!initialState) {\n        initialState = <AppState.State>Persist.loadFromLocalStorage();\n    } else {\n        let devMode = false;\n        if (configuredState.config) {\n            devMode = configuredState.config.devMode;\n        }\n\n        if (devMode) {\n            console.log(\"Dashboard running in devMode. Set config.devMode = false to deliver dashboard as 'view only'\");\n        }\n\n        storeOptions.persist = devMode;\n        initialState.global = {\n            isReadOnly: !devMode\n        };\n    }\n\n    const dashboardStore = Store.create(initialState, storeOptions);\n\n\n    const appElement = document.getElementById('app');\n\n    if (!appElement) {\n        throw new Error(\"Can not get element '#app' from DOM. Okay for headless execution.\");\n    }\n\n    function handleError(dashboard: Dashboard, error: Error) {\n        console.warn(\"Fatal error. Asking user to wipe data and retry. The error will be printed below...\");\n        if (confirm(\"Fatal error. Reset all Data?\\n\\nPress cancel and check the browser console for more details.\")) {\n            dashboardStore.dispatch(Store.clearState());\n            dashboard.dispose();\n            start();\n        }\n        else {\n            dashboard.dispose();\n            window.onerror = () => false;\n            throw error;\n        }\n    }\n\n    function start() {\n        let dashboard = new Dashboard(dashboardStore);\n\n        window.onerror = function errorHandler(message: string, filename?: string, lineno?: number, colno?: number, error?: Error) {\n            handleError(dashboard, error);\n            return false;\n        };\n\n        dashboard.init();\n\n        try {\n            renderDashboard(appElement, dashboardStore);\n        }\n        catch (error) {\n            handleError(dashboard, error)\n        }\n    }\n\n    start();\n\n\n    function renderDashboard(element: Element, store: Store.DashboardStore) {\n        Renderer.render(element, store);\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.ts\n **/","module.exports = global[\"$\"] = require(\"-!/builds/lobaro/iot-dashboard/node_modules/expose-loader/index.js?jQuery!/builds/lobaro/iot-dashboard/node_modules/jquery/dist/jquery.min.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?$!./~/expose-loader?jQuery!./~/jquery/dist/jquery.min.js\n ** module id = 15\n ** module chunks = 0 4\n **/","module.exports = global[\"jQuery\"] = require(\"-!/builds/lobaro/iot-dashboard/node_modules/jquery/dist/jquery.min.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?jQuery!./~/jquery/dist/jquery.min.js\n ** module id = 16\n ** module chunks = 0 4\n **/","module.exports = global[\"React\"] = require(\"-!/builds/lobaro/iot-dashboard/node_modules/react/dist/react.min.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?React!./~/react/dist/react.min.js\n ** module id = 17\n ** module chunks = 0 4\n **/","module.exports = global[\"_\"] = require(\"-!/builds/lobaro/iot-dashboard/node_modules/lodash/lodash.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?_!./~/lodash/lodash.js\n ** module id = 21\n ** module chunks = 0 2 4\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as FreeboardDatasource from './freeboardDatasource'\nimport * as PluginCache from './pluginCache'\n\nfunction mapSettings(settings) {\n    return settings.map(setting => {\n        return {\n            id: setting[\"name\"],\n            name: setting[\"display_name\"],\n            description: setting[\"description\"],\n            type: setting[\"type\"],\n            defaultValue: setting[\"default_value\"],\n            required: setting[\"required\"]\n        }\n    })\n}\n\nconst freeboardPluginApi = {\n\n    /**\n     * Method to register a DatasourcePlugin as you would with the IoT-Dashboard API\n     * But supporting the Freeboard syntax\n     * @param plugin A Freeboard Datasource Plugin.\n     * See: https://freeboard.github.io/freeboard/docs/plugin_example.html\n     */\n    loadDatasourcePlugin(plugin) {\n        console.log(\"Loading freeboard Plugin: \", plugin);\n\n        const typeName = plugin[\"type_name\"];\n        const displayName = plugin[\"display_name\"];\n        const description = plugin[\"description\"];\n        const externalScripts = plugin[\"external_scripts\"];\n        const settings = plugin[\"settings\"];\n        const newInstance = plugin[\"newInstance\"];\n\n        const TYPE_INFO = {\n            type: typeName,\n            name: displayName,\n            description: description,\n            dependencies: externalScripts,\n            settings: mapSettings(settings)\n        };\n\n        const dsPlugin = {\n            TYPE_INFO,\n            Datasource: FreeboardDatasource.create(newInstance, TYPE_INFO)\n        };\n\n        PluginCache.registerDatasourcePlugin(dsPlugin.TYPE_INFO, dsPlugin.Datasource);\n    }\n\n\n};\n\nwindow.freeboard = freeboardPluginApi;\n\nexport default freeboardPluginApi;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/freeboardPluginApi.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as _ from 'lodash'\n\n// **newInstance(settings, newInstanceCallback, updateCallback)** (required) : A function that will be called when a new instance of this plugin is requested.\n// * **settings** : A javascript object with the initial settings set by the user. The names of the properties in the object will correspond to the setting names defined above.\n// * **newInstanceCallback** : A callback function that you'll call when the new instance of the plugin is ready. This function expects a single argument, which is the new instance of your plugin object.\n// * **updateCallback** : A callback function that you'll call if and when your datasource has an update for freeboard to recalculate. This function expects a single parameter which is a javascript object with the new, updated data. You should hold on to this reference and call it when needed.\n\n\nexport function create(newInstance, TYPE_INFO) {\n\n    return function FreeboardDatasource(props = {}) {\n        this.instance = null;\n        this.data = history;\n        this.fetchData = function (resolve, reject) {\n            if (!this.data) {\n                resolve();\n                return;\n            }\n            const data = this.data;\n            this.data = null;\n            if (_.isArray(data)) {\n                resolve(data);\n            } else {\n                return resolve([data]);\n            }\n        }.bind(this);\n        this.dispose = function() {\n            this.instance.onDispose();\n        }.bind(this);\n\n        this.datasourceWillReceiveProps = function (newProps) {\n            if (newProps.settings !== this.props.settings) {\n                console.log(\"Updating Datasource settings\");\n                this.instance.onSettingsChanged(newProps);\n            }\n        }.bind(this);\n\n        const newInstanceCallback = function (instance) {\n            this.instance = instance;\n            instance.updateNow();\n        }.bind(this);\n\n        const updateCallback = function (newData) {\n            this.data = newData;\n        }.bind(this);\n\n        createNewInstance();\n\n        function createNewInstance() {\n            newInstance(props, newInstanceCallback, updateCallback);\n        }\n\n    }.bind(this)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/freeboardDatasource.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n\nimport {ITypeInfo, IDatasourcePlugin, IWidgetProps} from \"./pluginTypes\";\nimport * as React from 'react'\n/**\n * When a Plugin is loaded via the UI, an action is called to do so.\n * The action will load an external script, containing the plugin code, which calls one of the API methods here.\n * By calling the API method the plugin is put to the pluginCache where it can be fetched by the application to initialize it\n *\n * The application can not call the Plugin since it could (and should) be wrapped into a module.\n * @type {null}\n */\n\nlet pluginCache: any = null;\n\n\nexport function popLoadedPlugin() {\n    const plugin = pluginCache;\n    pluginCache = null;\n    return plugin;\n}\n\nexport function hasPlugin() {\n    return pluginCache !== null;\n}\n\nexport function registerDatasourcePlugin(typeInfo: ITypeInfo, datasource: IDatasourcePlugin) {\n    console.assert(!hasPlugin(), \"Plugin must be finished loading before another can be registered\", pluginCache);\n    pluginCache = ({\n        TYPE_INFO: typeInfo,\n        Datasource: datasource\n    });\n    pluginCache.TYPE_INFO.kind = \"datasource\"\n}\n\nexport function registerWidgetPlugin(typeInfo: ITypeInfo, widget: React.ComponentClass<IWidgetProps>) {\n    console.assert(!hasPlugin(), \"Plugin must be finished loading before another can be registered\", pluginCache);\n    pluginCache = ({\n        TYPE_INFO: typeInfo,\n        Widget: widget\n    });\n    pluginCache.TYPE_INFO.kind = \"widget\"\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginCache.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as PluginCache from './pluginCache'\n\nconst pluginApi = {\n    registerDatasourcePlugin: PluginCache.registerDatasourcePlugin,\n    registerWidgetPlugin: PluginCache.registerWidgetPlugin\n};\n\n// TO be robust during tests in node and server side rendering\nif (window) {\n    (<any>window).iotDashboardApi = pluginApi;\n}\n\nexport default pluginApi;\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginApi.ts\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.css\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"index.html\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/file-loader?name=[name].[ext]!./src/index.html\n ** module id = 28\n ** module chunks = 0\n **/","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/isomorphic-fetch/fetch-npm-browserify.js\n ** module id = 31\n ** module chunks = 0\n **/","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/whatwg-fetch/fetch.js\n ** module id = 32\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as ReactDOM from 'react-dom'\nimport {Provider} from \"react-redux\"\nimport Layout from \"./pageLayout\"\n\nexport function render(element, store) {\n    ReactDOM.render(\n        <Provider store={store}>\n            <Layout/>\n        </Provider>,\n        element);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/renderer.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from \"react\";\nimport {Component, KeyboardEvent} from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {connect} from \"react-redux\";\nimport * as Global from \"./dashboard/global.js\";\nimport WidgetGrid from \"./widgets/widgetGrid.ui.js\";\nimport LayoutsNavItem from \"./layouts/layouts.ui.js\";\nimport WidgetConfigDialog from \"./widgets/widgetConfigDialog.ui.js\";\nimport DashboardMenuEntry from \"./dashboard/dashboardMenuEntry.ui.js\";\nimport ImportExportDialog from \"./dashboard/importExportDialog.ui.js\";\nimport DatasourceConfigDialog from \"./datasource/datasourceConfigDialog.ui.js\";\nimport DatasourceNavItem from \"./datasource/datasourceNavItem.ui.js\";\nimport WidgetsNavItem from \"./widgets/widgetsNavItem.ui.js\";\nimport PluginNavItem from \"./pluginApi/pluginNavItem.ui\";\nimport PluginsDialog from \"./pluginApi/pluginsDialog.ui\";\nimport * as Persistence from \"./persistence\";\nimport {IConfigState} from \"./config\";\nimport {State} from \"./appState\";\nimport DatasourceFrames from \"./datasource/datasourceFrames.ui\";\n\ninterface LayoutProps {\n    setReadOnly(readOnly: boolean): void\n    isReadOnly: boolean\n    devMode: boolean\n    config: IConfigState\n}\n\ninterface LayoutState {\n    hover: boolean;\n}\n\nexport class Layout extends Component<LayoutProps, LayoutState> {\n\n    constructor(props: LayoutProps) {\n        super(props);\n        this.state = {hover: false};\n    }\n\n    onReadOnlyModeKeyPress(e: KeyboardEvent<any>) {\n        //console.log(\"key pressed\", event.keyCode);\n        const intKey = (window.event) ? e.which : e.keyCode;\n        if (intKey === 27) {\n            this.props.setReadOnly(!this.props.isReadOnly);\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.devMode) {\n            this.onReadOnlyModeKeyPress = this.onReadOnlyModeKeyPress.bind(this);\n\n            ReactDOM.findDOMNode<any>(this)\n                .offsetParent\n                .addEventListener('keydown', this.onReadOnlyModeKeyPress);\n        }\n    }\n\n    render() {\n        const props = this.props;\n        const devMode = props.devMode;\n        const showMenu = props.devMode && (!props.isReadOnly || this.state.hover);\n\n        return <div className=\"slds-grid slds-wrap\" onKeyUp={(event) => this.onReadOnlyModeKeyPress(event)}>\n            {devMode ? <div>\n                <WidgetConfigDialog/>\n                <ImportExportDialog/>\n                <DatasourceConfigDialog/>\n                <PluginsDialog/>\n            </div>\n                : null}\n            {devMode ? <div className={showMenu ? \"menu-trigger\" : \"menu-trigger\"}\n                            onMouseOver={()=> { this.setState({hover:true})}}\n                            onMouseEnter={()=> {this.setState({hover:true})}}\n            />\n                : null}\n\n            {devMode ?\n                <div className={\"slds-size--1-of-1 slds-context-bar\" + (showMenu ? \" topnav--visible\" : \" topnav--hidden\")}\n                     onMouseOver={()=> { this.setState({hover:true})}}\n                     onMouseLeave={()=> {this.setState({hover:false})}}\n                >\n                    <div className=\"slds-context-bar__primary slds-context-bar__item--divider-right\">\n                        <div className=\"slds-context-bar__item slds-context-bar__dropdown-trigger slds-dropdown-trigger slds-dropdown-trigger--click slds-no-hover\">\n                            <span className=\"slds-context-bar__label-action slds-context-bar__app-name\">\n                                <span className=\"slds-truncate\"><a href={this.props.config.title.url}>{this.props.config.title.text}</a></span>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"slds-context-bar__secondary\" role=\"navigation\">\n                        <ul className=\"slds-grid\">\n                            <DashboardMenuEntry/>\n                            <PluginNavItem/>\n                            <WidgetsNavItem/>\n                            <DatasourceNavItem/>\n                            <LayoutsNavItem/>\n                            <div className=\"slds-context-bar__vertical-divider\"/>\n                            <li className=\"slds-context-bar__item\">\n                                <a href=\"javascript:void(0);\" onClick={() => Persistence.clearData()}\n                                   className=\"slds-context-bar__label-action\" title=\"Reset Everything!\">\n                                    <span className=\"slds-truncate\">Reset Everything!</span>\n                                </a>\n                            </li>\n\n                            <li className=\"slds-context-bar__item\">\n                                <div className=\"slds-context-bar__icon-action\"\n                                     onClick={() => props.setReadOnly(!props.isReadOnly)}\n                                >\n                                    <svg aria-hidden=\"true\"\n                                         className=\"slds-icon slds-icon--small slds-icon-text-default\">\n                                        <use\n                                            xlinkHref={\"assets/icons/utility-sprite/svg/symbols.svg#\" + (props.isReadOnly ? \"lock\" : \"unlock\")}/>\n                                    </svg>\n                                    <span className=\"slds-assistive-text\">Lock / Unlock</span>\n                                </div>\n                            </li>\n\n                        </ul>\n                    </div>\n                    <div className=\"slds-context-bar__tertiary\">\n                        <ul className=\"slds-grid slds-grid--vertical-align-center\">\n\n                            {props.config.auth && props.config.auth.username ?\n                                <div className=\"slds-m-right--small\">{props.config.auth.username}</div>\n                                : null\n                            }\n                            {props.config.auth && props.config.auth.logoutUrl ?\n                                <a className=\"slds-button slds-button--neutral\"\n                                   href={props.config.auth.logoutUrl}\n                                >\n                                    <svg aria-hidden=\"true\" className=\"slds-button__icon slds-button__icon--left\">\n                                        <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#logout\"/>\n                                    </svg>\n                                    Logout\n                                </a>\n                                : null\n                            }\n\n                            <div className=\"slds-context-bar__vertical-divider\"/>\n                            <span className=\"slds-truncate slds-m-left--small\">\n                            v{this.props.config.version}\n                        </span>\n                        </ul>\n                    </div>\n                </div>\n                : null }\n\n            <div className=\"slds-size--1-of-1\">\n                <WidgetGrid/>\n            </div>\n            <DatasourceFrames/>\n        </div>\n    }\n\n}\n\nexport default connect(\n    (state: State) => {\n        return {\n            isReadOnly: state.global.isReadOnly,\n            devMode: state.config.devMode,\n            config: state.config\n        };\n    },\n    (dispatch: any) => {\n        return {\n            setReadOnly: (isReadOnly: boolean) => dispatch(Global.setReadOnly(isReadOnly))\n        };\n    }\n)(Layout);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pageLayout.tsx\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Action from '../actionNames'\n\nexport const initialState = {\n    isReadOnly: false\n};\n\n\nexport function setReadOnly(isReadOnly) {\n    return function (dispatch) {\n        dispatch(setReadOnlyAction(isReadOnly));\n    }\n}\n\nfunction setReadOnlyAction(isReadOnly) {\n    return {\n        type: Action.SET_READONLY,\n        isReadOnly\n    };\n\n}\n\nexport function global(state = initialState, action) {\n    switch (action.type) {\n        case Action.SET_READONLY:\n            return Object.assign({}, state, {\n                isReadOnly: action.isReadOnly\n            });\n        default:\n            return state;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dashboard/global.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/**\n * Rules for action names\n * ------------------------\n * (many of them are not applied but try to follow them in future)\n *\n * - Try to name Action after what happened not what should happen\n * -- i.e. \"STARTED_LOADING_PLUGIN\" rather than \"START_LOADING_PLUGIN\"\n */\n\nexport const CLEAR_STATE = \"CLEAR_STATE\";\n\n// Config\nexport const SET_CONFIG_VALUE = \"SET_CONFIG_VALUE\";\n\n// Dashboard\nexport const DASHBOARD_IMPORT = \"DASHBOARD_IMPORT\";\nexport const SET_READONLY = \"SET_READONLY\";\n\n// Layouts\nexport const ADD_LAYOUT = \"ADD_LAYOUT\";\nexport const UPDATE_LAYOUT = \"UPDATE_LAYOUT\";\nexport const DELETE_LAYOUT = \"DELETE_LAYOUT\";\nexport const LOAD_LAYOUT = \"LOAD_LAYOUT\";\nexport const SET_CURRENT_LAYOUT = \"SET_CURRENT_LAYOUT\";\n\n// Widgets\nexport const ADD_WIDGET = \"ADD_WIDGET\";\nexport const UPDATE_WIDGET_SETTINGS = \"UPDATE_WIDGET_SETTINGS\";\nexport const UPDATED_SINGLE_WIDGET_SETTING = \"UPDATED_SINGLE_WIDGET_SETTING\";\nexport const DELETE_WIDGET = \"DELETE_WIDGET\";\nexport const UPDATE_WIDGET_LAYOUT = \"UPDATE_WIDGET_LAYOUT\";\n\nexport const START_CREATE_WIDGET = \"START_CREATE_WIDGET\";\nexport const START_CONFIGURE_WIDGET = \"START_CONFIGURE_WIDGET\";\n\n// Datasources\nexport const ADD_DATASOURCE = \"ADD_DATASOURCE\";\nexport const UPDATE_DATASOURCE = \"UPDATE_DATASOURCE\";\nexport const DELETE_DATASOURCE = \"DELETE_DATASOURCE\";\n\nexport const DATASOURCE_FINISHED_LOADING = \"DATASOURCE_FINISHED_LOADING\";\n\n// Datasource data\nexport const FETCHED_DATASOURCE_DATA = \"FETCHED_DATASOURCE_DATA\";\nexport const CLEAR_DATASOURCE_DATA = \"CLEAR_DATASOURCE_DATA\";\n\n// Plugins\nexport const WIDGET_PLUGIN_FINISHED_LOADING = \"WIDGET_PLUGIN_FINISHED_LOADING\";\nexport const PLUGIN_FAILED_LOADING = \"PLUGIN_FAILED_LOADING\";\nexport const DATASOURCE_PLUGIN_FINISHED_LOADING = \"DATASOURCE_PLUGIN_FINISHED_LOADING\";\nexport const DELETE_WIDGET_PLUGIN = \"DELETE_WIDGET_PLUGIN\";\nexport const DELETE_DATASOURCE_PLUGIN = \"DELETE_DATASOURCE_PLUGIN\";\nexport const USE_PUBLISHED_DATASOURCE_PLUGIN = \"USE_PUBLISHED_DATASOURCE_PLUGIN\";\nexport const USE_PUBLISHED_WIDGET_PLUGIN = \"USE_PUBLISHED_WIDGET_PLUGIN\";\nexport const STARTED_LOADING_PLUGIN_FROM_URL = \"STARTED_LOADING_PLUGIN_FROM_URL\";\n\n// Modal\nexport const SHOW_MODAL = \"SHOW_MODAL\";\nexport const HIDE_MODAL = \"HIDE_MODAL\";\nexport const MODAL_ADD_USER_MESSAGE = \"MODAL_ADD_USER_MESSAGE\";\nexport const MODAL_DELETED_USER_MESSAGE = \"MODAL_DELETED_USER_MESSAGE\";\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actionNames.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from \"react\";\nimport {Component, PropTypes as Prop} from \"react\";\nimport {connect} from \"react-redux\";\nimport * as _ from \"lodash\";\nimport * as Widgets from \"./widgets\";\nimport WidgetFrame from \"./widgetFrame.ui\";\nimport WidthProvider from \"./widthProvider.ui\";\nimport {Responsive as ResponsiveReactGridLayout} from \"react-grid-layout\";\nconst ResponsiveGrid = WidthProvider(ResponsiveReactGridLayout);\n\nconst breakpoints = {lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0};\nconst cols = {lg: 12, md: 12, sm: 12, xs: 6, xxs: 3};\n\nclass WidgetGrid extends Component {\n\n    onLayoutChange(layout) {\n        if (this.props.onLayoutChange) {\n            this.props.onLayoutChange(layout)\n        }\n    }\n\n    render() {\n        const props = this.props;\n        const widgetStates = this.props.widgets;\n\n        // TODO: Remove unknown widget from state\n        const widgets = widgetStates.map((widgetState) => {\n            const widgetPlugin = props.widgetPlugins[widgetState.type];\n            /*\n             if (!widgetPlugin) {\n             // TODO: Render widget with error message - currently a loading indicator is displayed and the setting button is hidden\n             console.warn(\"No WidgetPluginFactory for type '\" + widgetState.type + \"'! Skipping rendering.\");\n             return null;\n             } */\n            // WidgetFrame must be loaded as function, else the grid is not working properly.\n            return WidgetFrame({widget: widgetState, widgetPlugin: widgetPlugin, isReadOnly: props.isReadOnly})\n        }).filter(frame => frame !== null);\n\n        /* //Does NOT work that way:\n         let widgets = widgetData.map((data) => <WidgetFrame {...data}\n         key={data.id}\n         _grid={{x: data.col, y: data.row, w: data.width, h: data.height}}\n         />);*/\n        return (\n            <ResponsiveGrid className=\"column\" rowHeight={Widgets.ROW_HEIGHT}\n                            breakpoints={breakpoints}\n                            cols={cols}\n                            draggableCancel=\".no-drag\"\n                            draggableHandle=\".drag\"\n                            onLayoutChange={this.onLayoutChange.bind(this)}\n                            isDraggable={!props.isReadOnly}\n                            isResizable={!props.isReadOnly}\n            >\n                {widgets}\n            </ResponsiveGrid>\n        )\n    }\n}\n\nWidgetGrid.propTypes = {\n    widgets: Prop.array.isRequired,\n    datasources: Prop.object.isRequired,\n    widgetPlugins: Prop.object.isRequired,\n    onLayoutChange: Prop.func,\n    deleteWidget: Prop.func,\n    isReadOnly: Prop.bool.isRequired\n};\n\nexport default connect(\n    (state) => {\n        return {\n            widgets: _.valuesIn(state.widgets) || [],\n            datasources: state.datasources || {},\n            widgetPlugins: state.widgetPlugins || {},\n            isReadOnly: state.global.isReadOnly\n        }\n    },\n    (dispatch) => {\n        return {\n            onLayoutChange: (layout) => {\n                dispatch(Widgets.updateLayout(layout))\n            },\n            deleteWidget: (id) => dispatch(Widgets.deleteWidget(id))\n        };\n    }\n)(WidgetGrid);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetGrid.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Redux from \"redux\";\nimport * as Uuid from \"../util/uuid.js\";\nimport * as _ from \"lodash\";\nimport {genCrudReducer} from \"../util/reducer.js\";\nimport * as Action from \"../actionNames\";\nimport * as AppState from \"../appState\";\nimport {IWidgetState, IWidgetPosition} from \"../pluginApi/pluginTypes\";\n\nexport const HEADER_HEIGHT = 35;\nexport const ROW_HEIGHT = 100;\n\nexport interface IWidgetsState {\n    [key: string]: IWidgetState\n}\n\n\n// Interface combining all widget actions, not all are needed for each action\ninterface IWidgetAction extends Redux.Action {\n    type: string;\n    id?: string;\n    widgetType?: string;\n    widgetSettings?: any;\n    row?: number;\n    col?: number;\n    width?: number;\n    height?: number;\n    layouts?: Layout[]; // Layout from react-grid-view\n    layout?: any; // from layout.js\n    settingId?: string,\n    settingValue?: any\n}\n\n// From react-grid-layout\ninterface Layout {\n    i: string\n    x: number\n    y: number\n    w: number\n    h: number\n}\n\nexport const initialWidgets: IWidgetsState = {\n    \"initial_chart\": {\n        \"id\": \"initial_chart\",\n        \"type\": \"chart\",\n        \"settings\": {\n            \"name\": \"Random Values\",\n            \"datasource\": \"initial_random_source\",\n            \"chartType\": \"area-spline\",\n            \"dataKeys\": \"[\\\"value\\\"]\",\n            \"xKey\": \"x\",\n            \"names\": \"{\\\"value\\\": \\\"My Value\\\"}\",\n            \"gaugeData\": \"{\\\"min\\\":0,\\\"max\\\":100,\\\"units\\\":\\\" %\\\"}\"\n        },\n        \"row\": 0,\n        \"col\": 0,\n        \"width\": 6,\n        \"height\": 2,\n        \"availableHeightPx\": 123\n    },\n    \"initial_text\": {\n        \"id\": \"initial_text\",\n        \"type\": \"text\",\n        \"settings\": {\n            \"name\": \"Random data\",\n            \"datasource\": \"initial_random_source\"\n        },\n        \"row\": 0,\n        \"col\": 6,\n        \"width\": 6,\n        \"height\": 3,\n        \"availableHeightPx\": 223\n    },\n    \"106913f4-44fb-4f69-ab89-5d5ae857cf3c\": {\n        \"id\": \"106913f4-44fb-4f69-ab89-5d5ae857cf3c\",\n        \"type\": \"chart\",\n        \"settings\": {\n            \"name\": \"Random Values\",\n            \"datasource\": \"initial_random_source\",\n            \"chartType\": \"spline\",\n            \"dataKeys\": \"[\\\"value\\\", \\\"value2\\\"]\",\n            \"xKey\": \"x\",\n            \"names\": \"{\\\"value\\\": \\\"My Value\\\"}\",\n            \"gaugeData\": \"{\\\"min\\\":0,\\\"max\\\":100,\\\"units\\\":\\\" %\\\"}\"\n        },\n        \"row\": 2,\n        \"col\": 0,\n        \"width\": 6,\n        \"height\": 2,\n        \"availableHeightPx\": 123\n    }\n};\n\n\n/* // TODO: better explicitly create initial state? But when? ...\n export function createInitialWidgets() {\n return function(dispatch: AppState.Dispatch) {\n dispatch(addWidget('chart', {\n \"name\": \"Random Values\",\n \"datasource\": \"initial_random_source\",\n \"chartType\": \"area-spline\",\n \"dataKeys\": \"[\\\"value\\\"]\",\n \"xKey\": \"x\",\n \"names\": \"{\\\"value\\\": \\\"My Value\\\"}\",\n \"gaugeData\": \"{\\\"min\\\":0,\\\"max\\\":100,\\\"units\\\":\\\" %\\\"}\"\n }, 0, 0, 6, 2));\n\n dispatch(addWidget('text', {\n \"name\": \"Random data\",\n \"datasource\": \"initial_random_source\"\n }, 0, 6, 6, 3));\n\n\n dispatch(addWidget('text', {\n \"name\": \"Bars\",\n \"datasource\": \"initial_random_source\",\n \"chartType\": \"spline\",\n \"dataKeys\": \"[\\\"value\\\", \\\"value2\\\"]\",\n \"xKey\": \"x\",\n \"names\": \"{\\\"value\\\": \\\"My Value\\\"}\",\n \"gaugeData\": \"{\\\"min\\\":0,\\\"max\\\":100,\\\"units\\\":\\\" %\\\"}\"\n }, 2, 0, 6, 2));\n }\n }\n */\n\nexport function createWidget(widgetType: string, widgetSettings: any): AppState.ThunkAction {\n    return (dispatch: AppState.Dispatch, getState: AppState.GetState): any => {\n        const widgets = getState().widgets;\n        const widgetPositions = calcNewWidgetPosition(widgets);\n\n        return dispatch(addWidget(widgetType, widgetSettings, widgetPositions.row, widgetPositions.col));\n    }\n}\n\nexport function addWidget(widgetType: string, widgetSettings: any = {}, row: number, col: number, width: number = 3, height: number = 3, id?: string): IWidgetAction {\n    if (!id) {\n        id = Uuid.generate();\n    }\n    return {\n        type: Action.ADD_WIDGET,\n        id,\n        col: col,\n        row: row,\n        width,\n        height,\n        widgetType,\n        widgetSettings\n    };\n}\n\nexport function updateWidgetSettings(id: string, widgetSettings: any): IWidgetAction {\n    return {\n        type: Action.UPDATE_WIDGET_SETTINGS,\n        id,\n        widgetSettings\n    }\n}\n\nexport function updatedSingleSetting(id: string, settingId: string, settingValue: any): IWidgetAction {\n    return {\n        type: Action.UPDATED_SINGLE_WIDGET_SETTING,\n        id,\n        settingId,\n        settingValue\n    }\n}\n\nexport function deleteWidget(id: string): IWidgetAction {\n    return {\n        type: Action.DELETE_WIDGET,\n        id\n    }\n}\n\nexport function updateLayout(layouts: Layout[]): IWidgetAction {\n    return {\n        type: Action.UPDATE_WIDGET_LAYOUT,\n        layouts: layouts\n    }\n}\n\nconst widgetsCrudReducer: Function = <Function>genCrudReducer([Action.ADD_WIDGET, Action.DELETE_WIDGET], widget);\nexport function widgets(state: IWidgetsState = initialWidgets, action: IWidgetAction): IWidgetsState {\n    state = widgetsCrudReducer(state, action);\n    switch (action.type) {\n        case Action.UPDATE_WIDGET_LAYOUT:\n            return _.valuesIn<IWidgetState>(state)\n                .reduce((newState, {id}) => {\n                        newState[id] = widget(newState[id], action);\n                        return newState;\n                    }, _.assign({}, state)\n                );\n        case Action.LOAD_LAYOUT:\n            console.assert(action.layout.widgets, \"Layout is missing Widgets, id: \" + action.layout.id);\n            return action.layout.widgets || {};\n        case Action.DELETE_WIDGET_PLUGIN: // Also delete related widgets // TODO: Or maybe not when we render an empty box instead\n            const toDelete = _.valuesIn<IWidgetState>(state).filter(widgetState => {\n                return widgetState.type === action.id\n            });\n            const newState = _.assign({}, state);\n            toDelete.forEach(widgetState => {\n                delete newState[widgetState.id];\n            });\n\n            return newState;\n        default:\n            return state;\n    }\n}\n\nfunction calcAvaliableHeight(heightUnits: number): number {\n    // The 10 px extra seem to be based on a bug in the grid layout ...\n    return (heightUnits * (ROW_HEIGHT + 10)) - HEADER_HEIGHT - 10;\n}\n\nfunction widget(state: IWidgetState, action: IWidgetAction): IWidgetState {\n    switch (action.type) {\n        case Action.ADD_WIDGET:\n            return {\n                id: action.id,\n                type: action.widgetType,\n                settings: action.widgetSettings,\n                row: action.row,\n                col: action.col,\n                width: action.width,\n                height: action.height,\n                availableHeightPx: calcAvaliableHeight(action.height)\n            };\n        case Action.UPDATE_WIDGET_SETTINGS:\n            return _.assign({}, state, {settings: action.widgetSettings});\n        case Action.UPDATED_SINGLE_WIDGET_SETTING: {\n            const newSettings = _.clone(state.settings);\n            newSettings[action.settingId] = action.settingValue;\n\n            return _.assign({}, state, {settings: newSettings});\n        }\n        case Action.UPDATE_WIDGET_LAYOUT:\n            const layout = layoutById(action.layouts, state.id);\n            if (layout == null) {\n                console.warn(\"No layout for widget. Skipping position update of widget with id: \" + state.id);\n                return state;\n            }\n            const heightInPx = calcAvaliableHeight(layout.h);\n\n            // Only change state when something actually changed!\n            if (state.row !== layout.y ||\n                state.col !== layout.x ||\n                state.width !== layout.w ||\n                state.height !== layout.h ||\n                state.availableHeightPx !== heightInPx) {\n                return _.assign({}, state, {\n                    row: layout.y,\n                    col: layout.x,\n                    width: layout.w,\n                    height: layout.h,\n                    availableHeightPx: heightInPx\n                });\n            } else {\n                return state;\n            }\n        default:\n            return state;\n    }\n}\n\n// Local functions\n\nfunction layoutById(layout: Layout[], id: string) {\n    return _.find(layout, (l) => {\n        return l.i === id;\n    });\n}\n\nexport function calcNewWidgetPosition(widgets: {[key: string]: IWidgetPosition}): {col: number, row: number} {\n    let colHeights: any = {};\n    // TODO: Replace 12 with constant for number of columns\n    // This is different on different breaking points...\n    for (let i = 0; i < 12; i++) {\n        colHeights[i] = 0;\n    }\n    colHeights = _.valuesIn<IWidgetState>(widgets).reduce((prev, curr) => {\n        prev[curr.col] = prev[curr.col] || 0;\n        const currHeight = curr.row + curr.height || 0;\n        if (prev[curr.col] < currHeight) {\n            for (let i = curr.col; i < curr.col + curr.width; i++) {\n                prev[i] = currHeight;\n            }\n        }\n        return prev;\n    }, colHeights);\n\n\n    const heights: number[] = _.valuesIn<number>(colHeights);\n    const col = _.keysIn(colHeights).reduce<number>((a, b, index, array) => {\n        return Number(colHeights[a] <= colHeights[b] ? a : b);\n    }, 0);\n    //Math.min(...colHeights);\n    return {col: col, row: Math.min(...heights)}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgets.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n\n\n\nexport function generate() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        const r = Math.random()*16|0;\n        const v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/uuid.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as _ from 'lodash'\n\n/**\n * Creates an reducer that works on an object where you can create, delete and update properties of type Object.\n * The key of properties always matches the id property of the value object.\n *\n * @param actionNames\n * Object with: create, update, delete action names\n * @param elementReducer\n * A reducer for a single object that supports the actionNames.create and actionNames.update action.\n * @param initialState (optional)\n * @param idProperty\n * The name of the property to fetch the id from the action. Default: 'id'\n * @returns {crudReducer}\n */\nexport function genCrudReducer(actionNames, elementReducer, idProperty = 'id') {\n    console.assert(actionNames.length === 2, \"ActionNames must contain 2 names for create, delete in that order\");\n    const [CREATE_ACTION, DELETE_ACTION] = actionNames;\n\n    return function crudReducer(state, action) {\n        const id = action[idProperty];\n        switch (action.type) {\n            case CREATE_ACTION: // Create or replace when already exists\n                return Object.assign({}, state, {[id]: elementReducer(undefined, action)});\n            case DELETE_ACTION:\n                const newState = Object.assign({}, state);\n                delete newState[id];\n                return newState;\n            default: // Update if we have an id property\n                if (id === undefined) return state;\n                const elementState = state[id];\n                if (elementState == undefined) {\n                    // Do not update what we don't have.\n                    // TODO: Log warning, or document why not.\n                    return state;\n                }\n                const updatedElement = elementReducer(elementState, action);\n                if (updatedElement == undefined) {\n                    console.error(\"ElementReducer has some problem: \", elementReducer, \" with action: \", action);\n                    throw new Error(\"Reducer must return the original state if they not implement the action. Check action \" + action.type + \".\");\n                }\n\n                return Object.assign({}, state, {\n                    [id]: updatedElement\n                });\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/reducer.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react';\nimport {connect} from 'react-redux'\nimport * as WidgetConfig from './widgetConfig'\nimport * as WidgetPlugins from './widgetPlugins'\nimport {deleteWidget} from './widgets'\nimport * as Widgets from './widgets'\nimport {PropTypes as Prop}  from \"react\";\nimport Dashboard from '../dashboard'\nimport WidgetIFrame from './widgetIFrame.ui.tsx'\n\n/**\n * The Dragable Frame of a Widget.\n * Contains generic UI controls, shared by all Widgets\n */\nconst WidgetFrame = (props) => {\n    const widgetState = props.widget;\n    const widgetPlugin = props.widgetPlugin;\n\n    // If the plugin is not in the registry, we assume it's currently loading\n    const pluginLoaded = Dashboard.getInstance().widgetPluginRegistry.hasPlugin(widgetState.type)\n\n    return (\n        <div className=\"lob-shadow--raised slds-card\"\n             style={{margin: 0, overflow: \"hidden\", backgroundColor: \"#fff\"}}\n             key={widgetState.id}\n             _grid={{x: widgetState.col, y: widgetState.row, w: widgetState.width, h: widgetState.height}}>\n            <div className=\"slds-grid slds-wrap slds-has-dividers--bottom\" style={{height: \"100%\"}}>\n                <div className={\"slds-size--1-of-1 slds-item\" + (props.isReadOnly ? \"\" : \" drag\")} style={{padding: 8}}>\n                    {props.isReadOnly ? null :\n                        <div className=\"slds-float--right\">\n\n                            <ConfigWidgetButton widgetState={widgetState}\n                                                description=\"settings\"\n                                                visible={(props.widgetPlugin && props.widgetPlugin.typeInfo.settings ? true : false)}\n                                                icon=\"settings\"/>\n                            {/* <!--<a className=\"right item drag\">\n                             <i className=\"move icon drag\"></i>\n                             </a>*/}\n                            <DeleteWidgetButton widgetState={widgetState}\n                                                description=\"remove\"\n                                                icon=\"remove\" iconType=\"action\"/>\n\n\n                        </div>\n                    }\n                    <div className={\"\" + (props.isReadOnly ? \"\" : \" drag\")}>\n                        {widgetState.settings.name || \"\\u00a0\"}\n                    </div>\n                </div>\n\n                {/* Actual widget content*/}\n                <div className=\"slds-size--1-of-1 slds-is-relative\"\n                     style={{height: widgetState.availableHeightPx, padding: 0, border: \"red dashed 0px\"}}>\n                    {\n                        pluginLoaded ? <WidgetIFrame widgetState={widgetState} widgetPluginState={widgetPlugin}/>\n                            : <LoadingWidget widget={widgetState}/>\n                    }\n                </div>\n            </div>\n        </div>)\n};\n\nexport const widgetPropType = Prop.shape({\n    id: Prop.string.isRequired,\n    col: Prop.number.isRequired,\n    row: Prop.number.isRequired,\n    width: Prop.number.isRequired,\n    height: Prop.number.isRequired,\n    settings: Prop.shape({\n        name: Prop.string.isRequired\n    }).isRequired\n});\n\nWidgetFrame.propTypes = {\n    widget: widgetPropType.isRequired,\n    widgetPlugin: Prop.shape({\n        id: Prop.string.isRequired,\n        typeInfo: Prop.shape({\n            type: Prop.string.isRequired,\n            name: Prop.string.isRequired,\n            settings: Prop.array\n        })\n    }).isRequired,\n    isReadOnly: Prop.bool.isRequired\n};\n\n\nexport default WidgetFrame;\n\nconst LoadingWidget = (props) => {\n    return <div className=\"slds-is-relative\" style={{height: \"100%\", padding: \"10px\"}}>\n        Loading {props.widget.type} Widget ...\n        <div className=\"slds-spinner_container\">\n            <div className=\"slds-spinner slds-spinner--medium\" role=\"alert\">\n                <span className=\"slds-assistive-text\">Loading</span>\n                <div className=\"slds-spinner__dot-a\"></div>\n                <div className=\"slds-spinner__dot-b\"></div>\n            </div>\n        </div>\n    </div>\n};\n\nLoadingWidget.propTypes = {\n    widget: widgetPropType.isRequired\n};\n\nclass WidgetButton extends React.Component {\n    render() {\n        const iconType = this.props.iconType || \"utility\"\n        const data = this.props.widgetState;\n        return <button className={\"slds-button slds-button--icon no-drag\" + (this.props.visible !== false ? \"\" : \" slds-hide\")}\n                       onClick={() => this.props.onClick(data)}>\n            <svg aria-hidden=\"true\" className=\"slds-button__icon slds-button__icon--small\">\n                <use xlinkHref={\"assets/icons/\" + iconType + \"-sprite/svg/symbols.svg#\" + this.props.icon}></use>\n            </svg>\n            <span className=\"slds-assistive-text\">{this.props.description}</span>\n        </button>\n    }\n}\n\nWidgetButton.propTypes = {\n    widgetState: widgetPropType.isRequired,\n    icon: Prop.string.isRequired,\n    description: Prop.string,\n    iconType: Prop.string,\n    visible: Prop.bool,\n    onClick: Prop.func.isRequired\n};\n\nconst DeleteWidgetButton = connect(\n    (state) => {\n        return {}\n    },\n    (dispatch) => {\n        return {\n            onClick: (widgetState) => {\n                dispatch(deleteWidget(widgetState.id))\n            }\n        };\n    }\n)(WidgetButton);\n\nconst ConfigWidgetButton = connect(\n    (state) => {\n        return {}\n    },\n    (dispatch) => {\n        return {\n            onClick: (widgetState) => {\n                dispatch(WidgetConfig.openWidgetConfigDialog(widgetState.id))\n            }\n        };\n    }\n)(WidgetButton);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetFrame.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Widgets from \"./widgets\";\nimport {START_CREATE_WIDGET, START_CONFIGURE_WIDGET} from \"../actionNames\";\nimport * as Modal from \"../modal/modalDialog\";\nimport * as ModalIds from \"../modal/modalDialogIds.ts\";\n\nconst initialState = {\n    type: null,\n    name: null,\n    settings: {}\n};\n\n/**\n * Triggered when the user intends to create a widget of a certain type\n */\nexport function createWidget(type) {\n    return (dispatch, getState) => {\n        const state = getState();\n        const widgetPlugin = state.widgetPlugins[type];\n        if (!widgetPlugin.typeInfo.settings && widgetPlugin.typeInfo.settings.length > 0) {\n            dispatch(Widgets.createWidget(type));\n            return;\n        }\n        dispatch(openWidgetCreateDialog(type));\n    }\n}\n\n/**\n * Creates or updates an actual widget\n */\nexport function createOrUpdateWidget(id, type, settings) {\n    return (dispatch, getState) => {\n        const state = getState();\n\n        const widget = state.widgets[id];\n\n        if (widget && widget.type !== type) {\n            throw new Error(\"Can not update widget of type \" + widget.type + \" with props of type \" + type);\n        }\n        if (widget) {\n            dispatch(Widgets.updateWidgetSettings(id, settings));\n        }\n        else {\n            dispatch(Widgets.createWidget(type, settings));\n        }\n    }\n}\n\nexport function openWidgetCreateDialog(type) {\n    return (dispatch) => {\n        dispatch({\n            type: START_CREATE_WIDGET,\n            widgetType: type\n        });\n        dispatch(Modal.showModal(ModalIds.WIDGET_CONFIG));\n    }\n}\n\n/**\n * Open the dialog with the settings and values of the given widget\n */\nexport function openWidgetConfigDialog(id) {\n    return (dispatch, getState) => {\n        const state = getState();\n        const widget = state.widgets[id];\n        dispatch({\n            type: START_CONFIGURE_WIDGET,\n            widget: widget\n        });\n        dispatch(Modal.showModal(ModalIds.WIDGET_CONFIG));\n    }\n}\n\nexport function widgetConfigDialog(state = initialState, action) {\n    switch (action.type) {\n        case START_CREATE_WIDGET:\n            return Object.assign({}, state, {\n                type: action.widgetType,\n                id: null,\n                name: action.widgetType,\n                settings: {}\n            });\n        case START_CONFIGURE_WIDGET:\n            return Object.assign({}, state, {\n                type: action.widget.type,\n                id: action.widget.id,\n                name: action.widget.name,\n                settings: action.widget.settings\n            });\n        default:\n            return state;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetConfig.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Action from '../actionNames'\nimport ModalDialog from './modalDialog.ui.js'\n\nconst initialState = {\n    dialogId: null,\n    isVisible: false,\n    data: {}\n};\n\nfunction showModalSideeffect(id) {\n    const $modal = $('.ui.modal.' + id);\n\n    if (!$modal.length) {\n        throw new Error(\"Can not find Modal with id\", id, $modal);\n    }\n\n    $modal.modal('show');\n}\n\nfunction closeModalSideeffect(id) {\n    $('.ui.modal.' + id).modal('hide');\n}\n\nfunction updateModalVisibility(stateAfter, stateBefore) {\n    const dialogBefore = stateBefore.modalDialog;\n    const dialogAfter = stateAfter.modalDialog;\n\n    if (dialogBefore.isVisible !== dialogAfter.isVisible) {\n        if (stateAfter.modalDialog.isVisible) {\n            showModalSideeffect(dialogAfter.dialogId);\n        }\n        else {\n            closeModalSideeffect(dialogBefore.dialogId);\n        }\n    }\n    else if (dialogBefore.dialogId && dialogAfter.dialogId && dialogBefore.dialogId !== dialogAfter.dialogId) {\n        closeModalSideeffect(dialogBefore.dialogId);\n        showModalSideeffect(dialogAfter.dialogId);\n    }\n}\n\n\nexport function showModal(id, data = {}) {\n    return (dispatch, getState) => {\n        const stateBefore = getState();\n        dispatch({\n            type: Action.SHOW_MODAL,\n            dialogId: id,\n            data\n        });\n\n        const stateAfter = getState();\n        updateModalVisibility(stateAfter, stateBefore);\n    }\n}\n\nexport function closeModal() {\n    return (dispatch, getState) => {\n        const stateBefore = getState();\n        dispatch({\n            type: Action.HIDE_MODAL\n        });\n\n        const stateAfter = getState();\n        updateModalVisibility(stateAfter, stateBefore);\n    }\n}\n\nexport function addError(message) {\n    return {\n        type: Action.MODAL_ADD_USER_MESSAGE,\n        kind: \"error\",\n        message: message\n    }\n}\n\nexport function addInfo(message) {\n    return {\n        type: Action.MODAL_ADD_USER_MESSAGE,\n        kind: \"info\",\n        message: message\n    }\n}\n\nexport function deleteUserMessage(userMessage) {\n    return {\n        type: Action.MODAL_DELETED_USER_MESSAGE,\n        message: userMessage\n    }\n}\n\nexport function modalDialog(state = initialState, action) {\n    switch (action.type) {\n        case Action.SHOW_MODAL:\n            return Object.assign({}, state, {\n                dialogId: action.dialogId,\n                data: action.data,\n                isVisible: true,\n                errors: []\n            });\n        case Action.HIDE_MODAL:\n            return Object.assign({}, state, {\n                dialogId: null,\n                data: null,\n                isVisible: false,\n                errors: []\n            });\n        case Action.MODAL_ADD_USER_MESSAGE: {\n            const stateErrors = state.errors || []\n            const errors = [...stateErrors, {text: action.message, kind: action.kind}]\n            return Object.assign({}, state, {\n                errors: errors\n            });\n        }\n        case Action.MODAL_DELETED_USER_MESSAGE: {\n            const errors = _.filter([...state.errors], (e) => e.text != action.message.text)\n            return Object.assign({}, state, {\n                errors: errors\n            });\n        }\n        default:\n            return state;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modal/modalDialog.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n\n\nexport const DASHBOARD_IMPORT_EXPORT = \"dashboard-import-export-dialog\";\nexport const DATASOURCE_CONFIG = \"datasource-config-dialog\";\nexport const WIDGET_CONFIG = \"widget-config-dialog\";\nexport const PLUGINS = \"plugins-dialog\";\n\n\n/** WEBPACK FOOTER **\n ** ./src/modal/modalDialogIds.ts\n **/","import {DashboardStore} from \"./store\";\nimport {IWidgetPluginState} from \"./widgets/widgetPlugins\";\nimport DatasourcePluginRegistry, {IDatasourcePluginModule} from \"./datasource/datasourcePluginRegistry\";\nimport * as _ from \"lodash\";\nimport * as Plugins from \"./pluginApi/pluginLoader\";\nimport * as PluginCache from \"./pluginApi/pluginCache\";\nimport scriptloader from \"./util/scriptLoader\";\nimport * as URI from \"urijs\";\nimport {IDatasourcePluginState} from \"./datasource/datasourcePlugins\";\nimport {IPluginModule} from \"./pluginApi/pluginTypes\";\nimport WidgetPluginRegistry from \"./widgets/widgetPluginRegistry\";\n\n/**\n * The root of the Dashboard business Logic\n * Defines the lifecycle of the Dashboard from creation till disposal\n */\nexport default class Dashboard {\n    private static _instance: Dashboard;\n    private _datasourcePluginRegistry: DatasourcePluginRegistry;\n    private _widgetPluginRegistry: WidgetPluginRegistry;\n    private _initialized: boolean = false;\n\n    private _scriptsLoading: {[url: string]: Promise<void>} = {};\n    private _lastLoadingUrls: string[];\n\n    constructor(private _store: DashboardStore) {\n        this._datasourcePluginRegistry = new DatasourcePluginRegistry(_store);\n        this._widgetPluginRegistry = new WidgetPluginRegistry(_store);\n\n        _store.subscribe(() => {\n            // Whenever a datasource is added that is still loading, we create an instance and update the loading state\n            const state = _store.getState();\n\n            if (this._lastLoadingUrls === state.pluginLoader.loadingUrls) {\n                return;\n            }\n            this._lastLoadingUrls = state.pluginLoader.loadingUrls;\n            state.pluginLoader.loadingUrls.forEach((urlToLoad: string) => {\n                if (!this._scriptsLoading[urlToLoad]) {\n                    this.loadPluginScript(urlToLoad);\n                }\n            });\n        })\n    }\n\n    static setInstance(dashboard: Dashboard) {\n        Dashboard._instance = dashboard;\n    }\n\n    /**\n     * We have some code that depends on this global instance of the Dashboard\n     * This is bad, but better that static references\n     * we have at least the chance to influence the instance during tests\n     *\n     * @returns {Dashboard}\n     */\n    static getInstance() {\n        if (!Dashboard._instance) {\n            throw new Error(\"No global dashboard created. Call setInstance(dashboard) before!\");\n        }\n\n        return Dashboard._instance;\n    }\n\n    get store() {\n        return this._store;\n    }\n\n    get datasourcePluginRegistry() {\n        return this._datasourcePluginRegistry;\n    }\n\n    get widgetPluginRegistry() {\n        return this._widgetPluginRegistry;\n    }\n\n\n    public init() {\n        if (this._initialized) {\n            throw new Error(\"Dashboard was already initialized. Can not call init() twice.\");\n        }\n        this._initialized = true;\n        // TODO: Should not be needed but is still needed for unloading plugins and in some widget code\n        Dashboard.setInstance(this);\n\n        const state = this._store.getState();\n        const plugins = _.valuesIn<IDatasourcePluginState>(state.datasourcePlugins)\n            .concat(_.valuesIn<IWidgetPluginState>(state.widgetPlugins));\n\n        plugins.forEach(plugin => {\n\n            this._store.dispatch(Plugins.reloadExistingPlugin(plugin.url, plugin.id));\n        });\n    }\n\n    dispose() {\n        this._datasourcePluginRegistry.dispose();\n        this._widgetPluginRegistry.dispose();\n    }\n\n    /**\n     * Load plugin from URL\n     */\n    private loadPluginScript(url: string): Promise<void> {\n        const loadScriptsPromise = scriptloader.loadScript([url]);\n\n        this._scriptsLoading[url] = loadScriptsPromise.then(() => {\n            if (PluginCache.hasPlugin()) {\n                // TODO: use a reference to the pluginCache and only bind that instance to the window object while the script is loaded\n                // TODO: The scriploader can ensure that only one script is loaded at a time\n\n                const plugin = PluginCache.popLoadedPlugin();\n                return this.loadPluginScriptDependencies(plugin, url);\n            }\n            else {\n                return Promise.reject(new Error(\"Failed to load Plugin. Make sure it called window.iotDashboardApi.register***Plugin from url \" + url));\n            }\n        }).then((plugin: IPluginModule) => {\n            if ((<IDatasourcePluginModule>plugin).Datasource) {\n                this._datasourcePluginRegistry.register(<IDatasourcePluginModule>plugin);\n                this._store.dispatch(Plugins.datasourcePluginFinishedLoading((<IDatasourcePluginModule>plugin), url));\n            }\n            else if ((<any>plugin).Widget) {\n                this._widgetPluginRegistry.register(plugin);\n                this._store.dispatch(Plugins.widgetPluginFinishedLoading(plugin, url));\n            }\n\n            delete this._scriptsLoading[url];\n            return Promise.resolve<void>();\n        }).catch((error) => {\n            console.warn(\"Failed to load script: \", error)\n            delete this._scriptsLoading[url];\n            this._store.dispatch(Plugins.pluginFailedLoading(url));\n        })\n\n        return this._scriptsLoading[url];\n    }\n\n    private loadPluginScriptDependencies(plugin: any, url: string): Promise<IPluginModule> {\n        // Do not load dependencies of widgets anymore, they are loaded inside the iFrame\n        if (plugin.TYPE_INFO.kind === \"widget\") {\n            return Promise.resolve(plugin);\n        }\n\n        const dependencies: string[] = plugin.TYPE_INFO.dependencies;\n        if (_.isArray(dependencies) && dependencies.length !== 0) {\n\n            const dependencyPaths = dependencies.map(dependency => {\n                return URI(dependency).absoluteTo(url).toString();\n            });\n\n            console.log(\"Loading Dependencies for Plugin\", dependencyPaths);\n            return scriptloader.loadScript(dependencyPaths).then(() => {\n                return Promise.resolve(plugin);\n            });\n        }\n        else {\n            return Promise.resolve(plugin);\n        }\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dashboard.ts\n **/","import PluginRegistry from \"../pluginApi/pluginRegistry\";\nimport {IPluginModule, IDatasourcePlugin} from \"../pluginApi/pluginTypes\";\nimport DataSourcePluginFactory from \"./datasourcePluginFactory\";\nimport {DashboardStore} from \"../store\";\nimport * as Plugins from \"../pluginApi/pluginLoader\";\n\n/**\n * Describes how we expect the plugin module to be\n */\nexport interface IDatasourcePluginModule extends IPluginModule {\n    Datasource: IDatasourcePlugin\n}\n\nexport default class DatasourcePluginRegistry extends PluginRegistry<IDatasourcePluginModule, DataSourcePluginFactory> {\n\n    private _fetchIntervalRef: number;\n    private _disposed: boolean = false;\n\n    constructor(_store: DashboardStore) {\n        super(_store);\n    }\n\n    get disposed() {\n        return this._disposed\n    }\n\n    createPluginFromModule(module: IDatasourcePluginModule) {\n        console.assert(_.isObject(module.TYPE_INFO), \"Missing TYPE_INFO on datasource module. Every module must export TYPE_INFO\");\n        return new DataSourcePluginFactory(module.TYPE_INFO.type, module.Datasource, this.store);\n    }\n\n    dispose() {\n        if (!this._disposed) {\n            this._disposed = true;\n            clearInterval(this._fetchIntervalRef);\n            this._fetchIntervalRef = null;\n            super.dispose();\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourcePluginRegistry.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport {DashboardStore} from \"../store\";\nimport * as _ from \"lodash\";\nimport {IPluginModule, IPluginFactory} from \"./pluginTypes\";\n\n\n\n\n\nexport type IdValueMap<T> = {[id: string]: T}\n\nexport default class PluginRegistry<TPluginModule extends IPluginModule, TPluginFactory extends IPluginFactory<any>> {\n\n    private _plugins: IdValueMap<TPluginFactory> = {};\n\n    constructor(private _store: DashboardStore) {\n        if (!_store) {\n            throw new Error(\"PluginRegistry must be initialized with a Store\");\n        }\n    }\n\n    get store(): DashboardStore {\n        return this._store;\n    }\n\n    register(module: TPluginModule) {\n        if (!this._store === undefined) {\n            throw new Error(\"PluginRegistry has no store. Set the store property before registering modules!\");\n        }\n\n        console.assert(module.TYPE_INFO !== undefined, \"Missing TYPE_INFO on plugin module. Every module must export TYPE_INFO\");\n        console.assert(module.TYPE_INFO.type !== undefined, \"Missing TYPE_INFO.type on plugin TYPE_INFO.\");\n\n        this._plugins[module.TYPE_INFO.type] = this.createPluginFromModule(module);\n    }\n\n    createPluginFromModule(module: TPluginModule): TPluginFactory {\n        throw new Error(\"PluginRegistry must implement createPluginFromModule\");\n    }\n\n    hasPlugin(type: string): boolean {\n        return this._plugins[type] !== undefined;\n    }\n\n    // TODO: rename to getPluginFactory() when also widgets are in TypeScript?\n    getPlugin(type: string): TPluginFactory {\n        const plugin = this._plugins[type];\n        if (!plugin) {\n            throw new Error(\"Can not find plugin with type '\" + type + \"' in plugin registry.\");\n        }\n        return plugin;\n    }\n\n\n    getPlugins() {\n        return _.assign({}, this._plugins);\n    }\n\n    dispose() {\n        _.valuesIn(this._plugins).forEach((plugin: any) => {\n            if (_.isFunction(plugin.dispose)) {\n                plugin.dispose();\n            }\n        });\n        this._plugins = {};\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginRegistry.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as _ from \"lodash\";\nimport {DashboardStore} from \"../store\";\nimport * as Datasource from \"./datasource\";\nimport {IDatasourcesState} from \"./datasource\";\nimport {DatasourcePluginInstance} from \"./datasourcePluginInstance\";\nimport {IPluginFactory, IDatasourcePlugin, IDatasourceState, IDatasourceClass} from \"../pluginApi/pluginTypes\";\nimport Unsubscribe = Redux.Unsubscribe;\n\n\n/**\n * Connects a datasource to the application state\n */\nexport default class DataSourcePluginFactory implements IPluginFactory<DatasourcePluginInstance> {\n\n    private _pluginInstances: {[id: string]: DatasourcePluginInstance} = {};\n    private _disposed: boolean = false;\n    private oldDatasourcesState: IDatasourcesState;\n\n    constructor(private _type: string, private _datasource: IDatasourcePlugin, private _store: DashboardStore) {\n        //this._unsubscribe = _store.subscribe(() => this.handleStateChange());\n    }\n\n    get type() {\n        return this._type;\n    }\n\n    get disposed() {\n        return this._disposed;\n    }\n\n    getInstance(id: string) {\n        if (this._disposed === true) {\n            throw new Error(\"Try to get datasource of destroyed type. \" + JSON.stringify({id, type: this.type}));\n        }\n        if (!this._pluginInstances[id]) {\n            return this.createInstance(id)\n        }\n        return this._pluginInstances[id];\n    }\n\n    dispose() {\n        this._disposed = true;\n        _.valuesIn<IDatasourcePlugin>(this._pluginInstances).forEach((plugin) => {\n            if (_.isFunction(plugin.dispose)) {\n                try {\n                    plugin.dispose();\n                }\n                catch (e) {\n                    console.error(\"Failed to destroy Datasource instance\", plugin);\n                }\n            }\n        });\n        this._pluginInstances = {};\n    }\n\n    handleStateChange() {\n        const state = this._store.getState();\n\n        if (this.oldDatasourcesState === state.datasources) {\n            return;\n        }\n        this.oldDatasourcesState = state.datasources;\n\n        // Create Datasource instances for missing data sources in store\n        _.valuesIn<IDatasourceState>(state.datasources)\n            .filter((dsState) => dsState.type === this.type)\n            .forEach((dsState) => {\n                if (this._pluginInstances[dsState.id] === undefined) {\n                    this._pluginInstances[dsState.id] = this.createInstance(dsState.id);\n                    this._store.dispatch(Datasource.finishedLoading(dsState.id))\n                }\n            });\n\n\n    }\n\n    private createInstance(id: string): DatasourcePluginInstance {\n        if (this._disposed === true) {\n            throw new Error(\"Try to create datasource of destroyed type: \" + JSON.stringify({id, type: this.type}));\n        }\n        if (this._pluginInstances[id] !== undefined) {\n            throw new Error(\"Can not create datasource instance. It already exists: \" + JSON.stringify({\n                    id,\n                    type: this.type\n                }));\n        }\n\n        const state = this._store.getState();\n        const dsState = state.datasources[id];\n\n        if (!dsState) {\n            throw new Error(\"Can not create instance of non existing datasource with id \" + id);\n        }\n\n        return new DatasourcePluginInstance(id, this._store);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourcePluginFactory.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport {genCrudReducer} from \"../util/reducer.js\";\nimport * as ActionNames from \"../actionNames\";\nimport * as Uuid from \"../util/uuid.js\";\nimport * as _ from \"lodash\";\nimport * as ModalIds from \"../modal/modalDialogIds\";\nimport * as Modal from \"../modal/modalDialog.js\";\nimport * as AppState from \"../appState\";\nimport {IPersistenceAction} from \"../persistence\";\nimport {IDatasourceState} from \"../pluginApi/pluginTypes\";\n\nconst initialDatasources: IDatasourcesState = {\n    \"initial_random_source\": {\n        id: \"initial_random_source\",\n        type: \"random\",\n        settings: {\n            name: \"Random\",\n            min: 10,\n            max: 20,\n            maxValues: 20\n        },\n        isLoading: true\n    }\n};\n\nexport interface IDatasourceAction extends AppState.Action, IPersistenceAction {\n    id?: string\n    settings?: any\n    dsType?: string\n    maxValues?: number\n    isLoading?: boolean\n    replaceData?: boolean\n}\n\nexport interface IDatasourcesState {\n    [id: string]: IDatasourceState\n}\n\n\nexport function createDatasource(type: string, settings: any, id: string = Uuid.generate()): IDatasourceAction {\n    return addDatasource(type, settings, true, id);\n}\n\nexport function updateDatasource(id: string, type: string, settings: any): AppState.ThunkAction {\n    return (dispatch, getState) => {\n        const state = getState();\n\n        const dsState = state.datasources[id];\n        if (!dsState) {\n            throw new Error(\"Failed to update not existing datasource of type '\" + type + \"' with id '\" + id + \"'\");\n        }\n        if (dsState.type !== type) {\n            throw new Error(\"Can not update datasource of type '\" + dsState.type + \"' with props of type '\" + type + \"'\");\n        }\n        dispatch(updateDatasourceSettings(id, settings));\n\n    }\n}\n\nexport function finishedLoading(id: string) {\n    return {\n        type: ActionNames.DATASOURCE_FINISHED_LOADING,\n        id\n    };\n}\n\nexport function addDatasource(dsType: string, settings: any, isLoading: boolean = true, id: string = Uuid.generate()): IDatasourceAction {\n    if (!dsType) {\n        console.warn(\"dsType: \", dsType);\n        console.warn(\"settings: \", settings);\n        throw new Error(\"Can not add Datasource without Type\");\n    }\n\n    return {\n        type: ActionNames.ADD_DATASOURCE,\n        id,\n        dsType,\n        settings,\n        isLoading\n    };\n}\n\nexport function updateDatasourceSettings(id: string, settings: any): IDatasourceAction {\n    // TODO: Working on that copy does not work yet. We need to notify the Datasource about updated settings!\n    //let settingsCopy = {...settings};\n    return {\n        type: ActionNames.UPDATE_DATASOURCE,\n        id,\n        settings\n    }\n}\n\nexport function startCreateDatasource() {\n    return Modal.showModal(ModalIds.DATASOURCE_CONFIG);\n}\nexport function startEditDatasource(id: string): AppState.ThunkAction {\n    return function (dispatch, getState) {\n        const state = getState();\n        const dsState = state.datasources[id];\n        dispatch(Modal.showModal(ModalIds.DATASOURCE_CONFIG, {datasource: dsState}));\n    }\n}\n\nexport function deleteDatasource(id: string): IDatasourceAction {\n    return {\n        type: ActionNames.DELETE_DATASOURCE,\n        id\n    }\n}\n\n\n\n\nconst datasourceCrudReducer = genCrudReducer([ActionNames.ADD_DATASOURCE, ActionNames.DELETE_DATASOURCE], datasource);\nexport function datasources(state: IDatasourcesState = initialDatasources, action: IDatasourceAction): IDatasourcesState {\n    state = datasourceCrudReducer(state, action);\n    switch (action.type) {\n        case ActionNames.DELETE_DATASOURCE_PLUGIN: { // Also delete related datasources\n            const toDelete = _.valuesIn<IDatasourceState>(state).filter(dsState => {\n                return dsState.type === action.id\n            });\n            const newState = _.assign({}, state);\n            toDelete.forEach(dsState => {\n                delete newState[dsState.id];\n            });\n\n            return newState;\n        }\n        default:\n            return state;\n    }\n}\n\nfunction datasource(state: IDatasourceState, action: IDatasourceAction): IDatasourceState {\n    switch (action.type) {\n        case ActionNames.ADD_DATASOURCE:\n            return {\n                id: action.id,\n                type: action.dsType,\n                settings: action.settings,\n                isLoading: true\n            };\n        case ActionNames.UPDATE_DATASOURCE:\n            return _.assign({}, state, {\n                settings: action.settings\n            });\n        case ActionNames.DATASOURCE_FINISHED_LOADING: {\n            let newState = _.assign({}, state);\n            newState.isLoading = false;\n            return newState;\n        }\n        default:\n            return state;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasource.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n\nimport {DashboardStore} from \"../store\";\nimport * as Datasource from \"./datasource\";\nimport * as DatasourceData from \"./datasourceData\";\nimport {IPostMessage, IDatasourceState, MESSAGE_STATE, MESSAGE_INIT, MESSAGE_INITIAL_STATE, MESSAGE_DATA} from \"../pluginApi/pluginTypes\";\nimport Unsubscribe = Redux.Unsubscribe;\n\n/**\n * Represents a plugin instance, state should be saved in store!\n */\nexport class DatasourcePluginInstance {\n\n    iFrame: HTMLIFrameElement;\n    private oldDsState: IDatasourceState = null;\n    private frameInitialized: boolean = false;\n    private messageListener: any;\n    private unsubscribeStore: Unsubscribe;\n    private disposed = false;\n\n\n    constructor(public id: string, private store: DashboardStore) {\n        if (typeof window !== 'undefined') {\n\n            this.messageListener = (e: MessageEvent) => {\n                if (this.disposed) {\n                    // TODO: better unit test than runtime checking\n                    console.error(\"Message listener called but WidgetPluginInstance is already disposed\")\n                    return;\n                }\n                if (!this.iFrame && e.origin === \"null\") {\n                    console.log(\"Discarding message because iFrame not set yet\", e.data)\n                }\n                if (this.iFrame !== undefined && e.origin === \"null\" && e.source === this.iFrame.contentWindow) {\n                    this.handleMessage(e.data)\n                }\n            };\n            window.addEventListener('message', this.messageListener);\n        }\n\n        this.unsubscribeStore = store.subscribe(() => {\n            if (this.disposed) {\n                // TODO: better unit test than runtime checking\n                console.error(\"Store change observed but WidgetPluginInstance is already disposed\")\n                return;\n            }\n            if (!this.frameInitialized) {\n                // We get invalid caches when we send state to the iFrame before it is ready\n                return;\n            }\n\n            const state = store.getState()\n            const dsState = state.datasources[id];\n            if (dsState === undefined) {\n                // This happens for example during import. Where the state is cleared but this class not yet disposed.\n                // So we just silently return.\n                return;\n            }\n\n            if (dsState !== this.oldDsState) {\n                console.log(\"old state: \", this.oldDsState)\n                this.oldDsState = dsState;\n                console.log(\"old state: \", this.oldDsState)\n                this.sendDatasourceState()\n            }\n        })\n    }\n\n    get state() {\n        const state = this.store.getState();\n        const dsState = state.datasources[this.id];\n\n        if (!dsState) {\n            throw new Error(\"Can not get state of non existing datasource with id \" + this.id);\n        }\n\n        return dsState;\n    }\n\n    handleMessage(msg: IPostMessage) {\n        switch (msg.type) {\n            case MESSAGE_INIT: {\n                this.frameInitialized = true;\n                this.sendInitialDatasourceState()\n                this.store.dispatch(Datasource.finishedLoading(this.id))\n                console.log(\"Datasource initialized\")\n                break;\n            }\n            case MESSAGE_DATA: {\n                this.store.dispatch(DatasourceData.fetchedDatasourceData(this.state.id, msg.payload))\n                break;\n            }\n            default:\n                break;\n        }\n    }\n\n    sendMessage(msg: IPostMessage) {\n        if (!this.iFrame.contentWindow) {\n            // This happens during import. We ignore it silently and rely on later disposal to free memory.\n            // TODO: Find a way to dispose this instance before this happens.\n            return;\n        }\n        this.iFrame.contentWindow.postMessage(msg, '*')\n    }\n\n\n    dispose() {\n        if (!this.disposed && _.isFunction(this.unsubscribeStore)) {\n            this.unsubscribeStore();\n        }\n        if (!this.disposed && _.isFunction(this.messageListener)) {\n            window.removeEventListener(\"message\", this.messageListener)\n        }\n\n        this.disposed = true;\n    }\n\n    private sendDatasourceState() {\n        console.log(\"Send state to datasource\")\n        const state = this.store.getState()\n        const dsState = state.datasources[this.id]\n        this.sendMessage({\n            type: MESSAGE_STATE,\n            payload: dsState\n        })\n    }\n\n    private sendInitialDatasourceState() {\n        const state = this.store.getState()\n        const dsState = state.datasources[this.id]\n        this.sendMessage({\n            type: MESSAGE_INITIAL_STATE,\n            payload: dsState\n        })\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourcePluginInstance.ts\n **/","import * as ActionNames from \"../actionNames\";\nimport * as AppState from \"../appState\";\nimport {IPersistenceAction} from \"../persistence\";\n\ninterface IDatasourceDataAction extends AppState.Action, IPersistenceAction {\n    id?: string\n    data?: any[]\n}\n\nexport interface IDatasourceDataState {\n    [id: string]: any[]\n}\n\n\nexport function fetchedDatasourceData(id: string, data: any[]): IDatasourceDataAction {\n    return {\n        type: ActionNames.FETCHED_DATASOURCE_DATA,\n        id,\n        data,\n        doNotLog: true,\n        doNotPersist: true\n    }\n}\n\nexport function clearData(id: string): IDatasourceDataAction {\n    return {\n        type: ActionNames.CLEAR_DATASOURCE_DATA,\n        id\n    }\n}\n\nexport function datasourceData(state: IDatasourceDataState = {}, action: IDatasourceDataAction): IDatasourceDataState {\n    switch (action.type) {\n        case ActionNames.FETCHED_DATASOURCE_DATA:\n            return _.assign({}, state, {\n                [action.id]: action.data\n            });\n        case ActionNames.CLEAR_DATASOURCE_DATA: {\n            const newState = _.assign({}, state);\n            return _.assign({}, state, {\n                [action.id]: []\n            });\n        }\n        default:\n            return state;\n    }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourceData.ts\n **/","/**\n * After a plugin was registered, we create a PluginFactory to store and create instances of the loaded Plugin\n */\nexport interface IPluginFactory<TPlugin extends IPlugin> {\n    getInstance(id: string): TPlugin\n    dispose(): void\n}\n\n/**\n * Describes an actual instance of a Plugin\n */\nexport interface IPlugin {\n}\n\n/**\n * The plugin that is registered to the Dashboard\n */\nexport interface IPluginModule {\n    TYPE_INFO: ITypeInfo\n}\n\n\nexport interface ITypeInfo {\n    type: string // The name of the type - must be unique\n    kind?: \"datasource\" | \"widget\" // The kind of a plugin, is it a datasource or a widget\n    author?: string // The creator of the plugin\n    version?: string // The version of the plugin, use semantic versioning (e.g. 1.4.2)\n    name?: string // The user friendly name of the Plugin\n    description?: string // A user friendly description that explains the Plugin\n    dependencies?: string[] // A list of URL's to load external scripts from. Some scripts like jQuery will be available by default in future\n    settings?: ISetting[] // A list of settings that can be changed by the user when the Plugin is initialized\n}\n\nexport interface ISetting {\n    id: string // Technical id, used to receive the value later\n    name: string // User friendly string to describe the value\n    type: string // Defines how the setting is rendered, validated and interpreted\n    description?: string // User friendly description with detail information about the value\n    defaultValue?: any // The default value that is preset when a new Plugin is configured, currently must be a string\n    required?: boolean // true when the setting is required\n}\n\n/**\n * Message to send data between the Dashboard and the Widget iFrame\n */\nexport interface IPostMessage {\n    type: string\n    payload?: any\n}\n\n// The message types\nexport const MESSAGE_INIT = \"init\"; // iframe -> app :: iFrame is ready\nexport const MESSAGE_INITIAL_STATE = \"initialState\"; // app -> iFrame :: send initial state to iFrame\nexport const MESSAGE_STATE = \"state\"; // app -> iFrame :: send state to iFrame\nexport const MESSAGE_DATA = \"data\"; // app <-> iFrame :: transfer datasource data from datasource or to widget\nexport const MESSAGE_UPDATE_SETTING = \"updateSetting\"; // iFrame -> app :: The plugin wants to update a setting\n\n/*\n * Datasource\n */\n\nexport interface IDatasourceState {\n    id: string\n    type: string\n    settings: any\n    isLoading: boolean\n}\n\nexport interface IDatasourceClass extends IDatasourcePlugin {\n    new(): IDatasourcePlugin\n}\n\nexport interface IDatasourceProps {\n    state: IDatasourceState\n    setFetchInterval: (intervalInMs: number) => void\n    setFetchReplaceData: (replace: boolean) => void\n    pushData: (data: any) => void\n}\n\nexport interface IDatasourcePlugin extends IPlugin {\n    props?: IDatasourceProps\n    datasourceWillReceiveProps?: (newProps: IDatasourceProps) => void\n    datasourceWillReceiveSettings?: (nextSettings: any) => void\n    dispose?: () => void\n    initialize?(props: IDatasourceProps): () => void\n    fetchData?<T>(resolve: (value?: T | Thenable<T>) => void, reject: (reason?: any) => void): void\n}\n\n/*\n * Widget\n */\n\nexport interface GetDataFunction {\n    (dsId: string): any[]\n}\n\nexport interface IWidgetProps {\n    state?: IWidgetState | any\n    data: {[dsId: string]: any[]}\n    getData?: GetDataFunction\n    updateSetting?: (settingId: string, value: any) => void\n}\n\nexport interface IWidgetPosition {\n    row: number;\n    col: number;\n    width: number;\n    height: number;\n}\n\nexport interface IWidgetState extends IWidgetPosition {\n    id: string;\n    type: string;\n    settings: any;\n    availableHeightPx: number;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginTypes.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Action from \"../actionNames\";\nimport * as AppState from \"../appState\";\nimport * as ModalDialog from \"../modal/modalDialog.js\"\nimport * as DatasourcePlugins from \"../datasource/datasourcePlugins\"\nimport * as WidgetPlugins from \"../widgets/widgetPlugins\"\nimport {IPluginModule} from \"./pluginTypes\";\nimport {IDatasourcePluginModule} from \"../datasource/datasourcePluginRegistry\";\nimport {Dispatch} from \"../appState\";\nimport {GetState} from \"../appState\";\nimport {IDatasourcePluginState} from \"../datasource/datasourcePlugins\";\nimport {IWidgetPluginState} from \"../widgets/widgetPlugins\";\n\nconst initialState: IPluginLoaderState = {\n    loadingUrls: []\n};\n\nexport interface IPluginLoaderState {\n    loadingUrls: string[]\n}\nexport interface IPluginLoaderAction extends AppState.Action {\n    id: string\n    url: string\n}\n\nfunction isUrl(url: string) {\n    return _.startsWith(url, \"/\") || !_.startsWith(url, \".\") || !_.startsWith(url, \"http:\") || !_.startsWith(url, \"https:\");\n}\n\n/**\n *  Load plugin from URL or registry when starting with plugin://\n */\nexport function startLoadingPluginFromUrl(url: string) {\n    return (dispatch: Dispatch, getState: GetState) => {\n        const state = getState()\n\n        const registryBaseUrl = state.config.pluginRegistryUrl\n        if (_.startsWith(url, \"plugin://\")) {\n            url = url.replace(\"plugin://\", registryBaseUrl + \"/api/plugin-files/\")\n        }\n        // No absolute or relative URL\n        if (!isUrl(url)) {\n            url = registryBaseUrl + \"/api/plugin-files/\" + url\n        }\n\n\n        if (_.some(_.valuesIn(state.datasourcePlugins), (p: IDatasourcePluginState) => p.url === url && !p.isLoading)) {\n            dispatch(ModalDialog.addError(\"Plugin already loaded: \" + url))\n            return\n        }\n        if (_.some(_.valuesIn(state.widgetPlugins), (p: IWidgetPluginState) => p.url === url && !p.isLoading)) {\n            dispatch(ModalDialog.addError(\"Plugin already loaded: \" + url))\n            return\n        }\n\n        dispatch({\n            type: Action.STARTED_LOADING_PLUGIN_FROM_URL,\n            url\n        })\n    }\n}\n\nexport function reloadExistingPlugin(url: string, id: string): IPluginLoaderAction {\n    return {\n        type: Action.STARTED_LOADING_PLUGIN_FROM_URL,\n        id,\n        url\n    }\n}\n\nexport function pluginFailedLoading(url: string) {\n    return (dispatch: Dispatch) => {\n        dispatch(ModalDialog.addError(\"Failed to load plugin from \" + url))\n\n        dispatch({\n            type: Action.PLUGIN_FAILED_LOADING,\n            url\n        })\n    }\n}\n\nexport function widgetPluginFinishedLoading(plugin: IPluginModule, url: string = null) {\n    return {\n        type: Action.WIDGET_PLUGIN_FINISHED_LOADING,\n        id: plugin.TYPE_INFO.type, // needed for crud reducer\n        typeInfo: plugin.TYPE_INFO,\n        isLoading: false,\n        url\n    };\n\n}\n\nexport function datasourcePluginFinishedLoading(plugin: IDatasourcePluginModule, url: string = null) {\n    return {\n        type: Action.DATASOURCE_PLUGIN_FINISHED_LOADING,\n        id: plugin.TYPE_INFO.type, // needed for crud reducer\n        typeInfo: plugin.TYPE_INFO,\n        isLoading: false,\n        url\n    };\n\n}\n\nexport function pluginLoaderReducer(state: IPluginLoaderState = initialState, action: IPluginLoaderAction) {\n    const newState = _.assign({}, state);\n    newState.loadingUrls = urlsReducer(state.loadingUrls, action);\n    return newState;\n}\n\nexport function publishPlugin(id: string, usePlugin: boolean) {\n    return function (dispatch: AppState.Dispatch, getState: AppState.GetState) {\n        const state = getState()\n        const dsPlugin = state.datasourcePlugins[id];\n        const widgetPlugin = state.widgetPlugins[id];\n\n        const isDatasource = !!dsPlugin;\n\n        const plugin = isDatasource ? dsPlugin : widgetPlugin\n\n        const registryBaseUrl = state.config.pluginRegistryUrl\n        const apiKey = state.config.pluginRegistryApiKey\n\n        fetch(plugin.url, {\n            method: 'get'\n        }).then((response) => {\n            return response.text();\n        }).then((scriptContent) => {\n            const data = {\n                \"MetaInfo\": plugin.typeInfo,\n                \"Code\": scriptContent\n            }\n\n            return fetch(registryBaseUrl + '/api/plugins/' + id, {\n                method: 'post',\n                body: JSON.stringify(data),\n                headers: {\n                    Authorization: apiKey\n                }\n            })\n        }).then(function (response) {\n            if (response.status >= 400) {\n                return response.json().then((json) => {\n                    if (json.error) {\n                        throw new Error(\"Failed to publish Plugin: \" + json.error);\n                    }\n                    throw new Error(\"Failed to publish Plugin\");\n                })\n            }\n            return response.json();\n        }).then(function (json: any) {\n            dispatch(ModalDialog.addInfo(\"Published plugin: \" + id + \" at \" + registryBaseUrl + json.url))\n            if (usePlugin) {\n                if (isDatasource) {\n                    dispatch(DatasourcePlugins.usePublishedDatasourcePlugin(id, registryBaseUrl + json.url, json.typeInfo))\n                }\n                else {\n                    dispatch(WidgetPlugins.usePublishedWidgetPlugin(id, registryBaseUrl + json.url, json.typeInfo))\n                }\n            }\n\n        }).catch(function (err) {\n            dispatch(ModalDialog.addError(err.message))\n        });\n    }\n}\n\nfunction urlsReducer(state: string[], action: IPluginLoaderAction): string[] {\n    switch (action.type) {\n        case Action.STARTED_LOADING_PLUGIN_FROM_URL:\n            if (!action.url) {\n                throw new Error(\"Can not load plugin from empty URL\");\n            }\n            return [...state].concat([action.url]);\n        case Action.PLUGIN_FAILED_LOADING:\n        case Action.WIDGET_PLUGIN_FINISHED_LOADING:\n        case Action.DATASOURCE_PLUGIN_FINISHED_LOADING:\n            return [...state].filter((url) => url !== action.url);\n        default:\n            return state;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginLoader.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Action from \"../actionNames\";\nimport {genCrudReducer} from \"../util/reducer.js\";\nimport * as AppState from \"../appState\";\nimport Dashboard from \"../dashboard\";\nimport {ITypeInfo} from \"../pluginApi/pluginTypes\";\n\n\n// TODO: does it work to have the URL as ID?\nconst initialState: IDatasourcePluginsState = {\n    \"random\": { // TODO: can we have another id (id != plugin type) without breaking stuff?\n        id: \"random\",\n        url: \"./plugins/datasources/randomDatasource.js\",\n        typeInfo: {\n            type: \"will-be-loaded\"\n        },\n        isLoading: true\n    },\n    \"time\": {\n        id: \"time\",\n        url: \"./plugins/datasources/timeDatasource.js\",\n        typeInfo: {\n            type: \"will-be-loaded\"\n        },\n        isLoading: true\n    },\n    \"static-data\": {\n        id: \"static-data\",\n        url: \"./plugins/datasources/staticData.js\",\n        typeInfo: {\n            type: \"will-be-loaded\"\n        },\n        isLoading: true\n    },\n    \"digimondo-firefly-datasource\": {\n        id: \"digimondo-firefly-datasource\",\n        url: \"./plugins/datasources/digimondoFirefly.js\",\n        typeInfo: {\n            type: \"will-be-loaded\"\n        },\n        isLoading: true\n    }\n};\n\n\nexport interface IDatasourcePluginsState {\n    [key: string]: IDatasourcePluginState\n}\n\n\nexport interface IDatasourcePluginState {\n    id: string\n    typeInfo: ITypeInfo\n    url: string\n    isLoading: boolean\n}\n\n\nexport interface IDatasourcePluginAction extends AppState.Action {\n    typeInfo: ITypeInfo\n    url: string\n    pluginType: string\n    isLoading: boolean\n}\n\n\nexport function unloadPlugin(type: string) {\n    return function (dispatch: AppState.Dispatch) {\n        // When the plugin is still loading, or never loaded successfully we can not find it\n        if (Dashboard.getInstance().widgetPluginRegistry.hasPlugin(type)) {\n            const dsFactory = Dashboard.getInstance().datasourcePluginRegistry.getPlugin(type);\n            dsFactory.dispose();\n        }\n\n        // TODO: Should we remove the url from plugin loader and cancel loading when the plugin is still loading?\n        dispatch(deletePlugin(type));\n    }\n}\n\nexport function usePublishedDatasourcePlugin(type: string, url: string, typeInfo: ITypeInfo) {\n    return {\n        type: Action.USE_PUBLISHED_DATASOURCE_PLUGIN,\n        id: type,\n        url: url,\n        typeInfo: typeInfo\n    }\n}\n\nfunction deletePlugin(type: string) {\n    return {\n        type: Action.DELETE_DATASOURCE_PLUGIN,\n        id: type\n    }\n}\n\nconst pluginsCrudReducer: Function = genCrudReducer([Action.DATASOURCE_PLUGIN_FINISHED_LOADING, Action.DELETE_DATASOURCE_PLUGIN], datasourcePlugin);\nexport function datasourcePlugins(state: IDatasourcePluginsState = initialState, action: any) {\n\n    state = pluginsCrudReducer(state, action);\n    switch (action.type) {\n        case Action.USE_PUBLISHED_DATASOURCE_PLUGIN: {\n            if (state[action.id]) {\n                return _.assign({}, state, {\n                    [action.id]: datasourcePlugin(state[action.id], action)\n                });\n            }\n            return state;\n        }\n        case Action.STARTED_LOADING_PLUGIN_FROM_URL: {\n            if (state[action.id]) {\n                return _.assign({}, state, {\n                    [action.id]: datasourcePlugin(state[action.id], action)\n                });\n            }\n            return state;\n        }\n        default:\n            return state;\n    }\n\n}\n\nfunction datasourcePlugin(state: IDatasourcePluginState, action: IDatasourcePluginAction): IDatasourcePluginState {\n    switch (action.type) {\n        case Action.USE_PUBLISHED_DATASOURCE_PLUGIN: {\n            return _.assign({}, state, {\n                url: action.url,\n                typeInfo: action.typeInfo\n            });\n        }\n        case Action.DATASOURCE_PLUGIN_FINISHED_LOADING:\n            if (!action.typeInfo.type) {\n                // TODO: Catch this earlier\n                throw new Error(\"A Plugin needs a type name. Please define TYPE_INFO.type\");\n            }\n\n            return <IDatasourcePluginState>{\n                id: action.typeInfo.type,\n                url: action.url,\n                typeInfo: action.typeInfo,\n                isLoading: false\n            };\n        case Action.STARTED_LOADING_PLUGIN_FROM_URL:\n            return _.assign({}, state, {\n                isLoading: true\n            });\n        default:\n            return state;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourcePlugins.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Action from \"../actionNames\";\nimport {genCrudReducer} from \"../util/reducer.js\";\nimport Dashboard from \"../dashboard\";\nimport * as AppState from \"../appState\";\nimport {ITypeInfo} from \"../pluginApi/pluginTypes\";\n\n\n// TODO: Later load all plugins from external URL's ?\nconst initialState: IWidgetPluginsState = {\n    \"chart\": {\n        id: \"chart\",\n        url: \"./plugins/widgets/chartWidget.js\",\n        typeInfo: {\n            type: \"will-be-loaded\",\n            name: \"chart (not loaded yet)\"\n        },\n        isLoading: true\n    },\n    \"text\": {\n        id: \"text\",\n        url: \"./plugins/widgets/textWidget.js\",\n        typeInfo: {\n            type: \"will-be-loaded\",\n            name: \"text (not loaded yet)\"\n        },\n        isLoading: true\n    }\n\n};\n\nexport interface IWidgetPluginsState {\n    [id: string]: IWidgetPluginState\n}\n\nexport interface IWidgetPluginState {\n    id: string\n    url: string\n    typeInfo: ITypeInfo\n    isLoading: boolean\n}\n\nexport interface IWidgetPluginAction extends AppState.Action {\n    id?: string\n    url?: string\n    typeInfo?: ITypeInfo\n}\n\n\nexport function unloadPlugin(type: string): AppState.ThunkAction {\n    return function (dispatch) {\n        // When the plugin is still loading, or never loaded successfully we can not find it\n        if (Dashboard.getInstance().widgetPluginRegistry.hasPlugin(type)) {\n            const widgetPlugin = Dashboard.getInstance().widgetPluginRegistry.getPlugin(type);\n            widgetPlugin.dispose();\n        }\n\n        // TODO: Should we remove the url from plugin loader and cancel loading when the plugin is still loading?\n        dispatch(deletePlugin(type));\n    }\n}\n\nfunction deletePlugin(type: string): IWidgetPluginAction {\n    return {\n        type: Action.DELETE_WIDGET_PLUGIN,\n        id: type\n    }\n}\n\nexport function usePublishedWidgetPlugin(type: string, url: string, typeInfo: ITypeInfo) {\n    return {\n        type: Action.USE_PUBLISHED_WIDGET_PLUGIN,\n        id: type,\n        url: url,\n        typeInfo: typeInfo\n    }\n}\n\nconst pluginsCrudReducer = genCrudReducer([Action.WIDGET_PLUGIN_FINISHED_LOADING, Action.DELETE_WIDGET_PLUGIN], widgetPlugin);\nexport function widgetPlugins(state: IWidgetPluginsState = initialState, action: IWidgetPluginAction) {\n\n    state = pluginsCrudReducer(state, action);\n    switch (action.type) {\n        case Action.USE_PUBLISHED_WIDGET_PLUGIN: {\n            if (state[action.id]) {\n                return _.assign({}, state, {\n                    [action.id]: widgetPlugin(state[action.id], action)\n                });\n            }\n            return state;\n        }\n        case Action.STARTED_LOADING_PLUGIN_FROM_URL:\n            if (state[action.id]) {\n                return _.assign({}, state, {\n                    [action.id]: widgetPlugin(state[action.id], action)\n                });\n            }\n            else {\n                return state;\n            }\n        default:\n            return state;\n    }\n\n}\n\nfunction widgetPlugin(state: IWidgetPluginState, action: IWidgetPluginAction): IWidgetPluginState {\n    switch (action.type) {\n        case Action.USE_PUBLISHED_WIDGET_PLUGIN: {\n            return _.assign({}, state, {\n                url: action.url,\n                typeInfo: action.typeInfo\n            });\n        }\n        case Action.WIDGET_PLUGIN_FINISHED_LOADING:\n            if (!action.typeInfo.type) {\n                // TODO: Catch this earlier\n                throw new Error(\"A Plugin needs a type name.\");\n            }\n\n            return {\n                id: action.typeInfo.type,\n                url: action.url,\n                typeInfo: action.typeInfo,\n                isLoading: false\n            };\n        case Action.STARTED_LOADING_PLUGIN_FROM_URL:\n            return _.assign({}, state, {\n                isLoading: true\n            });\n        default:\n            return state;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetPlugins.ts\n **/","import loadjs = require('loadjs');\n\n// This is a class because we can not mock it on module level.\nexport default class ScriptLoader {\n    static loadScript(paths: Array<string>): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            try {\n                loadjs(paths, {\n                    success: () => {\n                        resolve();\n                    },\n                    error: (error: Error) => {\n                        reject(error);\n                    }\n                });\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/scriptLoader.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n\nimport PluginRegistry from \"../pluginApi/pluginRegistry\";\nimport {IPluginModule} from \"../pluginApi/pluginTypes\";\nimport {DashboardStore} from \"../store\";\nimport WidgetPluginFactory from \"./widgetPluginFactory\";\n\n/**\n * Describes how we expect the plugin module to be\n */\nexport default class WidgetPluginRegistry extends PluginRegistry<any, any> {\n\n    constructor(store: DashboardStore) {\n        super(store);\n    }\n\n    createPluginFromModule(module: IPluginModule) {\n        console.assert(_.isObject(module.TYPE_INFO), \"Missing TYPE_INFO on datasource module. Every module must export TYPE_INFO\");\n        return new WidgetPluginFactory(module.TYPE_INFO.type, this.store);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetPluginRegistry.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport {DashboardStore} from \"../store\";\nimport {IPluginFactory} from \"../pluginApi/pluginTypes\";\nimport {WidgetPluginInstance} from \"./widgetPluginInstance\";\n\nexport default class WidgetPluginFactory implements IPluginFactory<WidgetPluginInstance> {\n\n\n    // TODO: The WidgetPluginInstance should be a plain class that might have access to the underlying component\n    instances: { [id: string]: WidgetPluginInstance} = {};\n    disposed = false;\n\n\n    constructor(private type: string, private store: DashboardStore) {\n    }\n\n    getInstance(id: string) {\n        if (this.disposed === true) {\n            throw new Error(\"Try to create widget of destroyed type: \" + this.type);\n        }\n\n        if (this.instances[id]) {\n            return this.instances[id];\n        }\n\n        this.instances[id] = new WidgetPluginInstance(id, this.store);\n        return this.instances[id];\n    }\n\n\n    dispose() {\n        this.disposed = true;\n        _.valuesIn(this.instances).forEach((widgetPluginInstance) => {\n            widgetPluginInstance.dispose();\n        })\n        this.instances = {};\n    }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetPluginFactory.ts\n **/","import {DashboardStore} from \"../store\";\nimport * as Widgets from \"./widgets\";\nimport {IPostMessage, IWidgetState, MESSAGE_DATA, MESSAGE_STATE, MESSAGE_INIT} from \"../pluginApi/pluginTypes\"\nimport Unsubscribe = Redux.Unsubscribe;\n\n\nexport class WidgetPluginInstance {\n    private _iFrame: HTMLIFrameElement;\n    private unsubscribeStore: Unsubscribe;\n    private frameInitialized: boolean = false;\n    private disposed = false;\n    private oldWidgetState: IWidgetState = null;\n    private oldDatasourceData: {[id: string]: any} = {}\n    private messageListener: any;\n\n    constructor(private id: string, private store: DashboardStore) {\n        if (typeof window !== 'undefined') {\n\n            this.messageListener = (e: MessageEvent) => {\n                if (this.disposed) {\n                    // TODO: better unit test than runtime checking\n                    console.error(\"Message listener called but WidgetPluginInstance is already disposed\")\n                    return;\n                }\n                if (!this._iFrame && e.origin === \"null\") {\n                    console.log(\"Discarding message because iFrame not set yet\", e.data)\n                }\n                if (this._iFrame !== undefined && e.origin === \"null\" && e.source === this._iFrame.contentWindow) {\n                    this.handleMessage(e.data)\n                }\n            };\n            window.addEventListener('message', this.messageListener);\n        }\n\n        this.unsubscribeStore = store.subscribe(() => {\n            if (this.disposed) {\n                // TODO: better unit test than runtime checking\n                console.error(\"Store change observed but WidgetPluginInstance is already disposed\")\n                return;\n            }\n            if (!this.frameInitialized) {\n                // We get invalid caches when we send state to the iFrame before it is ready\n                return;\n            }\n\n            const state = store.getState()\n            const widgetState = state.widgets[id];\n            if (widgetState === undefined) {\n                // This happens for example during import. Where the state is cleared but this class not yet disposed.\n                // So we just silently return.\n                return;\n            }\n\n            if (widgetState !== this.oldWidgetState) {\n                this.oldWidgetState = widgetState;\n                this.sendPluginState()\n            }\n\n            this.updateDatasourceDataInFrame()\n        })\n    }\n\n    set iFrame(element: HTMLIFrameElement) {\n        this._iFrame = element;\n        this.sendMessage({type: MESSAGE_INIT})\n    }\n\n    updateDatasourceDataInFrame() {\n        const state = this.store.getState();\n        const widgetState = state.widgets[this.id];\n\n        const widgetPluginState = state.widgetPlugins[widgetState.type];\n        widgetPluginState.typeInfo.settings.filter(s => {\n            return s.type === \"datasource\"\n        }).map(s => {\n            return widgetState.settings[s.id]\n        }).forEach(dsId => {\n            if (state.datasources[dsId] === undefined) {\n                return;\n            }\n            const data = state.datasourceData[dsId];\n            if (data !== this.oldDatasourceData[dsId]) {\n                this.oldDatasourceData[dsId] = data;\n                this.sendDatasourceData(dsId);\n            }\n        });\n    }\n\n    handleMessage(msg: IPostMessage) {\n        switch (msg.type) {\n            case 'init': {\n                this.frameInitialized = true;\n                this.sendPluginState()\n                this.updateDatasourceDataInFrame()\n                break;\n            }\n            case 'updateSetting': {\n                this.updateSetting(msg.payload.id, msg.payload.value)\n                break;\n            }\n            default:\n                break;\n        }\n    }\n\n    sendMessage(msg: IPostMessage) {\n        if (!this._iFrame.contentWindow) {\n            // This happens during import. We ignore it silently and rely on later disposal to free memory.\n            // TODO: Find a way to dispose this instance before this happens.\n            return;\n        }\n        this._iFrame.contentWindow.postMessage(msg, '*')\n    }\n\n\n    sendPluginState() {\n        const state = this.store.getState()\n        const widgetState = state.widgets[this.id]\n        this.sendMessage({\n            type: MESSAGE_STATE,\n            payload: widgetState\n        })\n    }\n\n    sendDatasourceData(dsId: string) {\n        const state = this.store.getState()\n        this.sendMessage({\n            type: MESSAGE_DATA,\n            payload: {\n                id: dsId,\n                data: state.datasourceData[dsId]\n            }\n        })\n    }\n\n    updateSetting(settingId: string, value: any) {\n        this.store.dispatch(Widgets.updatedSingleSetting(this.id, settingId, value));\n    }\n\n    dispose() {\n        if (!this.disposed && _.isFunction(this.unsubscribeStore)) {\n            this.unsubscribeStore();\n        }\n        if (!this.disposed && _.isFunction(this.messageListener)) {\n            window.removeEventListener(\"message\", this.messageListener)\n        }\n\n        this.disposed = true;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetPluginInstance.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from \"react\";\nimport {IWidgetPluginState} from \"./widgetPlugins\";\nimport {IWidgetState} from \"../pluginApi/pluginTypes\";\nimport Dashboard from \"../dashboard\";\n\ninterface IWidgetIFrameProps {\n    widgetState: IWidgetState\n    widgetPluginState: IWidgetPluginState\n}\n\n/**\n * The Dragable Frame of a Widget.\n * Contains generic UI controls, shared by all Widgets\n */\nexport default class WidgetIFrame extends React.Component<IWidgetIFrameProps, void> {\n\n    constructor(props: IWidgetIFrameProps) {\n        super(props)\n    }\n\n    componentDidMount() {\n        const element: HTMLIFrameElement = this.refs['frame'] as HTMLIFrameElement;\n\n        const widgetFactory = Dashboard.getInstance().widgetPluginRegistry.getPlugin(this.props.widgetState.type);\n        const widgetInstance = widgetFactory.getInstance(this.props.widgetState.id)\n        widgetInstance.iFrame = element;\n    }\n\n\n    // allow-popups allow-same-origin allow-modals allow-forms\n    // A sandbox that includes both the allow-same-origin and allow-scripts flags,\n    // then the framed page can reach up into the parent, and remove the sandbox attribute entirely.\n    // Only if the framed content comes from the same origin of course.\n\n    render() {\n        return <iframe id={'frame-' + this.props.widgetState.id} ref=\"frame\" src={\"widget.html#\" + this.props.widgetPluginState.url} frameBorder=\"0\" width=\"100%\" height=\"100%\"\n                       scrolling=\"no\"\n                       sandbox=\"allow-scripts\">\n            Browser does not support iFrames.\n        </iframe>\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetIFrame.ui.tsx\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n// @noflow\n// Intentional; Flow can't handle the bind on L20\nimport * as React from 'react'\nimport * as ReactDOM from 'react-dom';\n\n/*\n * A simple HOC that provides facility for listening to container resizes.\n */\nexport default (ComposedComponent) => {\n\n    class WidthProvider extends React.Component {\n\n        constructor(props) {\n            super(props);\n            this.state = {\n                mounted: false,\n                width: 1280\n            };\n        }\n\n        componentDidMount() {\n            this.setState({mounted: true});\n\n            window.addEventListener('resize', this.onWindowResize.bind(this));\n            // Call to properly set the breakpoint and resize the elements.\n            // Note that if you're doing a full-width element, this can get a little wonky if a scrollbar\n            // appears because of the grid. In that case, fire your own resize event, or set `overflow: scroll` on your body.\n            this.onWindowResize();\n        }\n\n        componentWillUnmount() {\n            window.removeEventListener('resize', this.onWindowResize);\n        }\n\n        onWindowResize(_event, cb) {\n            const node = ReactDOM.findDOMNode(this);\n\n\n            let padLeft = window.getComputedStyle(node, null).getPropertyValue('padding-left') || 0;\n            padLeft = parseInt(padLeft) || 0;\n\n\n            let padRight = window.getComputedStyle(node, null).getPropertyValue('padding-right') || 0;\n            padRight = parseInt(padRight) || 0;\n\n\n            this.setState({width: node.offsetWidth - padLeft - padRight}, cb);\n        }\n\n        render() {\n            if (this.props.measureBeforeMount && !this.state.mounted) return <div {...this.props} {...this.state} />;\n            return <ComposedComponent {...this.props} {...this.state} />;\n        }\n    }\n\n    WidthProvider.defaultProps = {\n        measureBeforeMount: false\n    };\n\n    WidthProvider.propTypes = {\n        // If true, will not render children until mounted. Useful for getting the exact width before\n        // rendering, to prevent any unsightly resizing.\n        measureBeforeMount: React.PropTypes.bool\n    };\n\n    return WidthProvider;\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widthProvider.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react';\nimport {connect} from 'react-redux'\nimport * as _ from 'lodash'\nimport * as Layouts from './layouts'\nimport * as ui from '../ui/elements.ui'\nimport {PropTypes as Prop}  from \"react\";\n\nconst LayoutsTopNavItem = (props) => {\n    return <li\n        className=\"slds-context-bar__item slds-context-bar__dropdown-trigger slds-dropdown-trigger slds-dropdown-trigger--hover\"\n        aria-haspopup=\"true\">\n        <a href=\"javascript:void(0);\" className=\"slds-context-bar__label-action\" title=\"Layouts\">\n            <span className=\"slds-truncate\">Layout</span>\n        </a>\n        <div className=\"slds-context-bar__icon-action slds-p-left--none\" tabIndex=\"0\">\n            <button className=\"slds-button slds-button--icon slds-context-bar__button\" tabIndex=\"-1\">\n                <svg aria-hidden=\"true\" className=\"slds-button__icon\">\n                    <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#chevrondown\"></use>\n                </svg>\n                <span className=\"slds-assistive-text\">Open Layout submenu</span>\n            </button>\n        </div>\n        <div className=\"slds-dropdown slds-dropdown--right\">\n            <ul className=\"dropdown__list\" role=\"menu\">\n                <SaveLayout/>\n                <ResetLayoutButton text=\"Reset Current Layout\" icon=\"undo\"/>\n                <SaveLayoutButton text=\"Save Layout\" icon=\"package\"/>\n                <li className=\"slds-dropdown__header slds-has-divider--top-space\" role=\"separator\">\n                    <span className=\"slds-text-title--caps\">Layouts</span>\n                </li>\n                {props.layouts.map(layout => {\n                    return <LayoutItem text={layout.name} icon=\"plus\" layout={layout}\n                                       key={layout.id}/>\n                })}\n            </ul>\n        </div>\n    </li>\n};\n\nLayoutsTopNavItem.propTypes = {\n    layouts: Prop.arrayOf(\n        Prop.shape({\n            name: Prop.string\n        })\n    ),\n    widgets: Prop.object,\n    currentLayout: Prop.object\n};\n\nexport default connect((state) => {\n        return {\n            layouts: _.valuesIn(state.layouts),\n            currentLayout: state.currentLayout,\n            widgets: state.widgets\n        }\n    },\n    (dispatch)=> {\n        return {}\n    })(LayoutsTopNavItem);\n\nclass SaveInput extends React.Component {\n    onEnter(e) {\n        if (e.key === 'Enter') {\n            this.save()\n        }\n    }\n\n    save() {\n        this.props.onEnter(this.refs.input.value, this.props);\n        this.refs.input.value = '';\n    }\n\n    render() {\n        return <div className=\"slds-form-element\">\n            <div className=\"slds-form-element__control slds-input-has-icon slds-input-has-icon--right\">\n                <svg aria-hidden=\"true\" className=\"slds-input__icon slds-icon-text-default\"\n                     onClick={() => this.save()}\n                >\n                    <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#add\"></use>\n                </svg>\n                <input id=\"text-input-save-layout\" className=\"slds-input\" type=\"text\" placeholder=\"Save as ...\"\n                       ref=\"input\"\n                       onKeyPress={this.onEnter.bind(this)}\n                />\n            </div>\n        </div>\n    }\n}\n\nSaveInput.propTypes = {\n    onEnter: Prop.func,\n    widgets: Prop.object\n};\n\nconst SaveLayout = connect((state) => {\n        return {\n            layouts: _.valuesIn(state.layouts),\n            widgets: state.widgets\n        }\n    },\n    (dispatch, props)=> {\n        return {\n            onEnter: (name, props) => {\n                dispatch(Layouts.addLayout(name, props.widgets))\n            }\n        }\n    }\n)(SaveInput);\n\nclass MyLayoutItem extends React.Component {\n    render() {\n        const props = this.props;\n        let selected = props.currentLayout.id == props.layout.id;\n        return <ui.DropdownItem onClick={() => props.onClick(props)}\n                             selected={selected}\n                             isCheckbox=\"true\"\n                             icon=\"check\" iconRight=\"delete\"\n                             iconRightClick={() => {\n                                 props.deleteLayout(props);\n                             }} text={props.text}/>\n    }\n}\n\nMyLayoutItem.propTypes = {\n    deleteLayout: Prop.func.isRequired,\n    onClick: Prop.func.isRequired,\n    layout: Prop.object.isRequired,\n    currentLayout: Prop.object\n};\n\nconst LayoutItem = connect(\n    (state) => {\n        return {\n            currentLayout: state.currentLayout\n        }\n    },\n    (dispatch, props)=> {\n        return {\n            deleteLayout: (props) => dispatch(Layouts.deleteLayout(props.layout.id)),\n            onClick: (props) => dispatch(Layouts.loadLayout(props.layout.id))\n        }\n    }\n)(MyLayoutItem);\n\n\n\nconst ResetLayoutButton = connect(\n    (state) => {\n        return {\n            id: state.currentLayout.id,\n            disabled: !state.currentLayout.id\n        }\n    },\n    (dispatch, props)=> {\n        return {\n            onClick: (props) => dispatch(Layouts.loadLayout(props.id))\n        }\n    }\n)(ui.DropdownItem);\n\nconst SaveLayoutButton = connect(\n    (state) => {\n        return {\n            id: state.currentLayout.id,\n            widgets: state.widgets,\n            disabled: !state.currentLayout.id\n        }\n    },\n    (dispatch)=> {\n        return {\n            onClick: (props) => dispatch(Layouts.updateLayout(props.id, props.widgets))\n        }\n    }\n)(ui.DropdownItem);\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layouts/layouts.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Widgets from '../widgets/widgets'\nimport {generate as generateUuid} from '../util/uuid'\nimport {genCrudReducer} from '../util/reducer'\nimport {ADD_LAYOUT, LOAD_LAYOUT, UPDATE_LAYOUT, DELETE_LAYOUT, SET_CURRENT_LAYOUT} from '../actionNames'\n\nconst initialLayouts = {\n    \"default\": {\n        id: \"default\",\n        name: \"Default Layout\",\n        widgets: Widgets.initialWidgets\n    }\n};\n\nexport function addLayout(name, widgets) {\n    return (dispatch) => {\n\n\n        const addLayout = dispatch({\n            type: ADD_LAYOUT,\n            id: generateUuid(),\n            name,\n            widgets\n        });\n\n        dispatch(setCurrentLayout(addLayout.id));\n    }\n\n}\n\nexport function updateLayout(id, widgets) {\n    return {\n        type: UPDATE_LAYOUT,\n        id,\n        widgets\n    }\n}\n\n\nexport function deleteLayout(id) {\n    return {\n        type: DELETE_LAYOUT,\n        id\n    }\n}\n\nexport function setCurrentLayout(id) {\n    return {\n        type: SET_CURRENT_LAYOUT,\n        id\n    }\n}\n\nexport function loadEmptyLayout() {\n    return {\n        type: LOAD_LAYOUT,\n        layout: {\n            id: \"empty\",\n            widgets: {}\n        }\n    };\n}\n\nexport function loadLayout(id) {\n    return (dispatch, getState) => {\n        const state = getState();\n\n        const layout = state.layouts[id];\n        // Bad hack to force the grid layout to update correctly\n        dispatch(loadEmptyLayout());\n\n        if (!layout) {\n            return;\n        }\n        setTimeout(()=> {\n            dispatch(setCurrentLayout(layout.id));\n            dispatch({\n                type: LOAD_LAYOUT,\n                layout\n            });\n        }, 0);\n    }\n}\n\nconst layoutCrudReducer = genCrudReducer([ADD_LAYOUT, DELETE_LAYOUT], layout);\nexport function layouts(state = initialLayouts, action) {\n    state = layoutCrudReducer(state, action);\n    switch (action.type) {\n        default:\n            return state;\n    }\n}\n\nexport function layout(state, action) {\n    switch (action.type) {\n        case ADD_LAYOUT:\n            return {\n                id: action.id,\n                name: action.name,\n                widgets: action.widgets\n            };\n        case UPDATE_LAYOUT:\n            return Object.assign({}, state, {\n                widgets: action.widgets\n            });\n        default:\n            return state;\n    }\n}\n\nexport function currentLayout(state = {}, action) {\n    switch (action.type) {\n        case SET_CURRENT_LAYOUT:\n            return Object.assign({}, state, {\n                id: action.id\n            });\n        case DELETE_LAYOUT:\n            if (action.id == state.id) {\n                return Object.assign({}, state, {\n                    id: undefined\n                })\n            }\n            return state;\n        default:\n            return state;\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/layouts/layouts.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react';\nimport {PropTypes as Prop}  from \"react\";\n\n/**\n * This module contains generic UI Elements reuse in the app\n */\n\nexport const DropdownItem = (props) => {\n    let icon;\n    let iconRight;\n    if (props.icon) {\n        icon = <svg aria-hidden=\"true\"\n                    className={\"slds-icon slds-icon--x-small slds-icon-text-default slds-m-right--x-small\" + (props.isCheckbox ? \" slds-icon--selected\" : \"\")}>\n            <use xlinkHref={\"assets/icons/utility-sprite/svg/symbols.svg#\" + props.icon}></use>\n        </svg>;\n    }\n    if (props.iconRight) {\n        iconRight = <svg aria-hidden=\"true\"\n                         className=\"slds-icon slds-icon--x-small slds-icon-text-default slds-m-left--small slds-shrink-none\"\n                         onClick={(e) => {\n                             if (props.iconRightClick) {\n                                 e.stopPropagation();\n                                 e.preventDefault();\n                                 props.iconRightClick(e);\n                             }\n                         }}\n        >\n            <use xlinkHref={\"assets/icons/utility-sprite/svg/symbols.svg#\" + props.iconRight}></use>\n        </svg>;\n    }\n\n    return <li className={\"slds-dropdown__item\" + (props.selected ? \" slds-is-selected\" : \"\")} role=\"presentation\">\n        <a href=\"javascript:void(0);\" role={props.isCheckbox ? \"menuitemcheckbox\" : \"menuitem\"}\n           aria-checked={props.selected ? \"true\" : \"false\"}\n           onClick={(e) => {\n               e.stopPropagation();\n               e.preventDefault();\n               props.onClick(e);\n           }}\n           tabIndex=\"-1\">\n            <span className=\"slds-truncate\">{icon} {props.text}</span>{iconRight}\n        </a>\n    </li>\n};\n\nDropdownItem.propTypes = {\n    onClick: Prop.func.isRequired,\n    iconRightClick: Prop.func,\n    text: Prop.string,\n    icon: Prop.string,\n    iconRight: Prop.string,\n    isCheckbox: Prop.string,\n    children: Prop.any,\n    selected: Prop.bool\n};\n\nexport const LinkItem = (props) => {\n    let icon;\n    if (props.icon) {\n        icon = <i className={props.icon +\" icon\"}/>;\n    }\n\n    return <a className={\"item\" + (props.disabled ? \" disabled\" : \"\")} href=\"#\"\n              onClick={(e) =>{\n              e.stopPropagation();\n              e.preventDefault();\n              props.onClick(props);\n              }}>{icon} {props.children} {props.text}</a>;\n};\n\nLinkItem.propTypes = {\n    onClick: Prop.func.isRequired,\n    text: Prop.string,\n    icon: Prop.string,\n    disabled: Prop.bool,\n    children: Prop.any\n};\n\nexport const Icon = (props) => {\n    const classes = [];\n    classes.push(props.type);\n    if (props.align === 'right') {\n        classes.push('right floated');\n    }\n    if (props.size !== \"normal\") {\n        classes.push(props.size);\n    }\n    classes.push('icon');\n    return <i {...props} className={classes.join(\" \")}/>\n};\n\nIcon.propTypes = {\n    type: Prop.string.isRequired,\n    onClick: Prop.func,\n    align: Prop.oneOf([\"left\", \"right\"]),\n    size: Prop.oneOf([\"mini\", \"tiny\", \"small\", \"normal\", \"large\", \"huge\", \"massive\"])\n};\n\n\nexport const Divider = (props) => {\n    return <div className=\"ui divider\"></div>\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/elements.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport ModalDialog from \"../modal/modalDialog.ui.tsx\";\nimport * as WidgetPlugins from \"./widgetPlugins\";\nimport * as WidgetConfig from \"./widgetConfig\";\nimport {connect} from \"react-redux\";\nimport SettingsForm from \"../ui/settingsForm.ui\";\nimport {reset} from \"redux-form\";\nimport * as ModalIds from '../modal/modalDialogIds'\nimport {PropTypes as Prop}  from \"react\";\n\nconst DIALOG_ID = ModalIds.WIDGET_CONFIG;\nconst FORM_ID = \"widget-settings-form\";\n\nexport function unshiftIfNotExists(array, element, isEqual = (a, b) => a.id == b.id) {\n    if (array.find((e) => isEqual(e, element)) == undefined) {\n        array.unshift(element);\n    }\n}\n\nclass WidgetConfigModal extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    onSubmit(formData, dispatch) {\n        dispatch(WidgetConfig.createOrUpdateWidget(this.props.widgetId, this.props.widgetType, formData));\n        return true;\n    }\n\n    resetForm() {\n        this.props.resetForm(FORM_ID);\n    }\n\n    render() {\n        const props = this.props;\n        const actions = [\n            {\n                className: \"ui right button\",\n                label: \"Reset\",\n                onClick: () => {\n                    this.resetForm();\n                    return false;\n                }\n            },\n            {\n                className: \"ui right red button\",\n                label: \"Cancel\",\n                onClick: () => {\n                    this.resetForm();\n                    return true;\n                }\n            },\n            {\n                className: \"ui right labeled icon positive button\",\n                iconClass: \"save icon\",\n                label: \"Save\",\n                onClick: () => {\n                    const success = this.refs.form.submit();\n                    if (success) this.resetForm();\n                    return success;\n                }\n            }\n        ];\n\n        //const selectedWidgetPlugin = WidgetPlugins.getPlugin(this.props.widgetType) || {settings: []};\n        const selectedWidgetPlugin = props.widgetPlugin;\n\n        // TODO: Get typeInfo from selectedWidgetPlugin.typeInfo\n        if (!selectedWidgetPlugin) {\n            // TODO: Find a better (more generic way) to deal with uninitialized data for modals\n            // TODO: The widgetConfig in the state is a bad idea. Solve this via state.modalDialog.data\n            // This is needed for the very first time the page is rendered and the selected widget type is undefined\n            return <ModalDialog id={DIALOG_ID}\n                                title={\"Configure Widget: \" + props.widgetType}\n                                actions={actions}\n            >\n                <div>Unknown WidgetType: {props.widgetType}</div>\n            </ModalDialog>\n        }\n\n\n        // Add additional fields\n        const settings = selectedWidgetPlugin ? [...selectedWidgetPlugin.typeInfo.settings] : [];\n\n        unshiftIfNotExists(settings, {\n            id: 'name',\n            name: 'Name',\n            type: 'string',\n            defaultValue: selectedWidgetPlugin.typeInfo.name\n        });\n\n        const fields = settings.map(setting => setting.id);\n        let initialValues = settings.reduce((initialValues, setting) => {\n            if (setting.defaultValue !== undefined) {\n                initialValues[setting.id] = setting.defaultValue;\n            }\n            return initialValues;\n        }, {});\n        // Overwrite with current widget props\n        initialValues = Object.assign({}, initialValues, props.widgetSettings);\n\n        return <ModalDialog id={DIALOG_ID}\n                            title={\"Configure Widget: \" + selectedWidgetPlugin.typeInfo.name}\n                            actions={actions}\n        >\n            <div className=\"ui one column grid\">\n                <div className=\"column\">\n                    {selectedWidgetPlugin.description ?\n\n                        <div className=\"ui icon message\">\n                            <i className=\"idea icon\"/>\n                            <div className=\"content\">\n                                {selectedWidgetPlugin.description}\n                            </div>\n\n                        </div>\n                        : null\n                    }\n                    <SettingsForm ref=\"form\"\n                                  form={FORM_ID}\n                                  settings={settings}\n                                  onSubmit={this.onSubmit.bind(this)}\n                                  fields={[...fields]}\n                                  initialValues={initialValues}\n                    />\n\n                </div>\n            </div>\n        </ModalDialog>\n    }\n}\n\nWidgetConfigModal.propTypes = {\n    widgetId: Prop.string,\n    resetForm: Prop.func.isRequired,  // reset\n    widgetType: Prop.string,\n    widgetSettings: Prop.object.isRequired,\n    widgetPlugin: Prop.shape({\n        id: Prop.string.isRequired,\n        typeInfo: Prop.shape({\n            type: Prop.string.isRequired,\n            name: Prop.string.isRequired,\n            settings: Prop.array\n        })\n    })\n};\n\nexport default connect(\n    (state) => {\n        return {\n            widgetId: state.widgetConfig.id,\n            widgetType: state.widgetConfig.type,\n            widgetSettings: state.widgetConfig.settings,\n            widgetPlugin: state.widgetPlugins[state.widgetConfig.type]\n        }\n    },\n    (dispatch) => {\n        return {\n            resetForm: (id) => dispatch(reset(id))\n        }\n    }\n)(WidgetConfigModal);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetConfigDialog.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport {connect} from 'react-redux'\nimport * as Modal from './modalDialog.js'\nimport * as AppState from '../appState'\n\nexport interface IModalDialogState {\n    dialogId: string\n    data: any\n    isVisible: boolean\n    errors: UserMessage[]\n}\n\ninterface UserMessage {\n    text: string\n    kind: \"info\" | \"error\"\n}\n\ninterface DialogAction {\n    className: string\n    iconClass: string\n    label: string\n    onClick: Function\n}\n\ninterface ModalDialogProps {\n    children: any\n    title: string\n    id: string\n    dialogState: IModalDialogState\n    actions: DialogAction[]\n    handlePositive: () => void\n    handleDeny: () => void\n    closeDialog: () => void\n}\n\n\nclass ModalDialog extends React.Component<ModalDialogProps, any> {\n\n    constructor(props: ModalDialogProps) {\n        super(props)\n        this.state = {screen: this.screenSize()}\n    }\n\n    componentDidMount() {\n        const $modal: any = $('.ui.modal.' + this.props.id);\n        $modal.modal({\n            detachable: false,\n            closable: false,\n            observeChanges: true,\n            onApprove: ($element: any) => false,\n            onDeny: ($element: any) => false,\n            transition: \"fade\",\n            onVisible: () => {\n                // This is to update the Browser Scrollbar, at least needed in WebKit\n                if (typeof document !== 'undefined') {\n                    const n = document.createTextNode(' ');\n                    $modal.append(n);\n                    setTimeout(function () {\n                        n.parentNode.removeChild(n)\n                    }, 0);\n                }\n            }\n        })\n\n        $(window).resize(() => {\n            this.setState({screen: this.screenSize()})\n        })\n    }\n\n    screenSize() {\n        if (typeof window === 'undefined') {\n            console.log(\"Running on nodeJS!\")\n            return {\n                height: 500,\n                width: 500\n            }\n        }\n        return {\n            height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight,\n            width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\n        }\n    }\n\n    onClick(e: React.MouseEvent<any>, action: DialogAction) {\n        if (action.onClick(e)) {\n            // Closing is done externally (by redux)\n            this.props.closeDialog();\n            //ModalDialog.closeModal(this.props.id);\n        }\n    }\n\n\n    render() {\n        let key = 0;\n        const actions = this.props.actions.map(action => {\n            return <div key={key++} className={action.className} onClick={(e) => this.onClick(e, action)}>\n                {action.label}\n                {action.iconClass ? <i className={action.iconClass}/> : null}\n            </div>\n        });\n\n        const props = this.props;\n        // TODO: realize Modals with React, then isOpen gets handy:\n        //const isOpen = props.dialogState.dialogId == props.id && props.dialogState.isVisible;\n\n        const height = this.state.screen.height;\n        const width = this.state.screen.width;\n\n        return <div id={this.props.id}\n                    className={'ui modal ' + this.props.id} style={{width: width - 80, top: 40, left: 40, margin: 1, minHeight:\"500px\"}}>\n            <div className=\"header\">\n                {props.title}\n            </div>\n            {this.props.dialogState.isVisible ?\n                <div className=\"content\" style={{overflowY: 'scroll', height: height - 300, minHeight:\"500px\"}}>\n                    {this.props.dialogState.errors ?\n                        this.props.dialogState.errors.map((message, i) => {\n                            return <ModalUserMessageComponent key={i} userMessage={message}/>\n                        })\n                        : null}\n                    {props.children}\n                </div>\n                : null }\n            <div className=\"actions\">\n                {actions}\n            </div>\n        </div>\n    }\n}\n\nexport default connect(\n    (state: AppState.State, ownProps: any) => {\n        return {\n            dialogState: state.modalDialog\n        }\n    },\n    (dispatch: AppState.Dispatch) => {\n        return {\n            closeDialog: () => dispatch(Modal.closeModal())\n        }\n    }\n)(ModalDialog)\n\ninterface ModalErrorProps {\n    userMessage: UserMessage\n    close: (message: UserMessage) => void\n}\n\nclass ModalUserMessage extends React.Component<ModalErrorProps, any> {\n    close() {\n        this.props.close(this.props.userMessage)\n    }\n\n    render() {\n        let theme = \"error\"\n        if (this.props.userMessage.kind === \"info\") {\n            theme = \"success\"\n        }\n        if (this.props.userMessage.kind === \"error\") {\n            theme = \"error\"\n        }\n\n        return <div className=\"slds-notify_container slds-is-relative slds-m-bottom--x-small\">\n            <div className={\"slds-notify slds-notify--alert slds-theme--alert-texture slds-theme--\" + theme} role=\"alert\">\n                <button className=\"slds-button slds-notify__close slds-button--icon-inverse\"\n                        onClick={() => this.close()}\n                >\n                    <svg aria-hidden=\"true\" className=\"slds-button__icon\">\n                        <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#close\"></use>\n                    </svg>\n                    <span className=\"slds-assistive-text\">Close</span>\n                </button>\n                <span className=\"slds-assistive-text\">{this.props.userMessage.kind}</span>\n                <h2>{this.props.userMessage.text}</h2>\n            </div>\n        </div>\n    }\n}\n\n\nconst ModalUserMessageComponent = connect(\n    (state: AppState.State, ownProps: any) => {\n        return {\n            userMessage: ownProps.userMessage\n        }\n    },\n    (dispatch: AppState.Dispatch) => {\n        return {\n            close: (message: UserMessage) => {\n                dispatch(Modal.deleteUserMessage(message))\n            }\n        }\n    }\n)(ModalUserMessage)\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modal/modalDialog.ui.tsx\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport {connect} from 'react-redux'\nimport * as ui from './elements.ui'\nimport {Field, reduxForm, reset} from 'redux-form';\nimport {chunk} from '../util/collection'\nimport * as _ from 'lodash'\nimport {PropTypes as Prop}  from \"react\";\n\nclass SettingsForm extends React.Component {\n\n    componentDidMount() {\n        this._initSemanticUi();\n    }\n\n    componentDidUpdate() {\n        this._initSemanticUi();\n    }\n\n    _initSemanticUi() {\n        $('.icon.help.circle')\n            .popup({\n                position: \"top left\",\n                offset: -10\n            });\n        $('.ui.checkbox')\n            .checkbox();\n    }\n\n    render() {\n        const props = this.props;\n        return <form className=\"ui form\">\n            {/*className=\"two fields\" with chunk size of 2*/}\n            {\n                chunk(this.props.settings, 1).map(chunk => {\n                    return <div key={chunk[0].id} className=\"field\">\n                        {chunk.map(setting => {\n                            return <LabeledField key={setting.id} setting={setting}/>;\n                        })}\n                    </div>\n                })\n            }\n\n        </form>\n    }\n}\n\nSettingsForm.propTypes = {\n    initialValues: Prop.object.isRequired,\n    settings: Prop.arrayOf(Prop.shape({\n            id: Prop.string.isRequired\n        },\n    )).isRequired\n};\n\nexport default reduxForm({enableReinitialize: \"true\"})(SettingsForm);\n\n\nfunction LabeledField(props) {\n    const setting = props.setting;\n    return <div className=\"field\">\n        <label>{setting.name}\n            {setting.description && setting.type !== 'boolean' ?\n                <ui.Icon type=\"help circle\" data-content={setting.description}/> : null}\n        </label>\n        <SettingsInput setting={props.setting}/>\n    </div>\n}\n\nLabeledField.propTypes = {\n    setting: Prop.shape({\n        id: Prop.string.isRequired,\n        type: Prop.string.isRequired,\n        name: Prop.string.isRequired,\n        description: Prop.string\n    }).isRequired\n};\n\nfunction SettingsInput(props) {\n    const setting = props.setting;\n    switch (setting.type) {\n        case \"text\":\n            return <Field name={setting.id} component=\"textarea\" rows=\"3\" placeholder={setting.description}/>;\n        case \"string\":\n            return <Field name={setting.id} component=\"input\" type=\"text\" placeholder={setting.description}/>;\n        case \"json\": // TODO: Offer better editor + validation\n            return <Field name={setting.id} component=\"textarea\" rows=\"3\" placeholder={setting.description}/>;\n        case \"number\": // TODO: Validate numbers, distinct between integers and decimals?\n            return <Field name={setting.id} component=\"input\" type=\"number\" min={setting.min} max={setting.max}\n                          placeholder={setting.description}/>;\n        case \"boolean\":\n            return <Field name={setting.id} component=\"input\" type=\"checkbox\"/>;\n        case \"option\":\n            return <Field name={setting.id} component=\"select\" className=\"ui fluid dropdown\">\n                <option>{\"Select \" + props.name + \" ...\"}</option>\n                {setting.options.map(option => {\n                    const optionValue = _.isObject(option) ? option.value : option;\n                    const optionName = _.isObject(option) ? option.name : option;\n                    return <option key={optionValue} value={optionValue}>{optionName}</option>\n                })}\n            </Field>;\n        case \"datasource\":\n            return <DatasourceInputContainer setting={setting}/>\n        default:\n            console.error(\"Unknown type for settings field with id '\" + setting.id + \"': \" + setting.type);\n            return <input placeholder={setting.description} readonly value={\"Unknown field type: \" + setting.type}/>;\n    }\n}\n\n\nSettingsInput.propTypes = {\n    setting: Prop.shape({\n        type: Prop.string.isRequired,\n        id: Prop.string.isRequired,\n        name: Prop.string.isRequired,\n        description: Prop.string,\n        defaultValue: Prop.any,\n        min: Prop.number, // for number\n        max: Prop.number, // for number\n        options: Prop.oneOfType([\n                Prop.arrayOf( // For option\n                    Prop.shape({\n                            name: Prop.string,\n                            value: Prop.string.isRequired\n                        }.isRequired\n                    )).isRequired,\n                Prop.arrayOf(Prop.string).isRequired\n            ]\n        )\n    }).isRequired\n\n};\n\nconst DatasourceInput = (props) => {\n    const datasources = props.datasources;\n    const setting = props.setting;\n\n    return <Field name={setting.id} component=\"select\" className=\"ui fluid dropdown\">\n        <option>{\"Select \" + setting.name + \" ...\"}</option>\n        {_.toPairs(datasources).map(([id, ds]) => {\n            return <option key={id} value={id}>{ds.settings.name + \" (\" + ds.type + \")\"}</option>\n        })}\n    </Field>;\n};\n\nDatasourceInput.propTypes = {\n    datasources: Prop.object.isRequired,\n    setting: Prop.shape({\n        id: Prop.string.isRequired,\n        type: Prop.string.isRequired,\n        name: Prop.string.isRequired\n    }).isRequired\n};\n\n\nconst DatasourceInputContainer = connect(\n    (state) => {\n        return {\n            datasources: state.datasources\n        }\n    }\n)(DatasourceInput);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/settingsForm.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n\nexport function chunk(array, chunkSize, handle) {\n    let i, j, chunk;\n    let chunkNum = 0;\n    const chunks = [];\n\n    if (!array) {\n        return chunks;\n    }\n    for (i = 0, j = array.length; i < j; i += chunkSize) {\n        chunk = array.slice(i, i + chunkSize);\n        if (handle) {\n            handle(chunk, chunkNum);\n        }\n        chunkNum++;\n        chunks.push(chunk);\n    }\n    return chunks;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/collection.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport {connect} from 'react-redux'\nimport * as ui from \"../ui/elements.ui\";\nimport * as Modal from '../modal/modalDialog'\nimport * as ModalIds from '../modal/modalDialogIds'\nimport {PropTypes as Prop}  from \"react\";\n\n\nconst DashboardTopNavItem = (props) => {\n    return <li\n        className=\"slds-context-bar__item slds-context-bar__dropdown-trigger slds-dropdown-trigger slds-dropdown-trigger--hover\"\n        aria-haspopup=\"true\">\n        <a href=\"javascript:void(0);\" className=\"slds-context-bar__label-action\" title=\"Dashboard\">\n            <span className=\"slds-truncate\">Board</span>\n        </a>\n        <div className=\"slds-context-bar__icon-action slds-p-left--none\" tabIndex=\"0\">\n            <button className=\"slds-button slds-button--icon slds-context-bar__button\" tabIndex=\"-1\">\n                <svg aria-hidden=\"true\" className=\"slds-button__icon\">\n                    <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#chevrondown\"></use>\n                </svg>\n                <span className=\"slds-assistive-text\">Open Board submenu</span>\n            </button>\n        </div>\n        <div className=\"slds-dropdown slds-dropdown--right\">\n            <ul className=\"dropdown__list\" role=\"menu\">\n                <ui.DropdownItem text=\"Import / Export\"\n                                 icon=\"change_record_type\"\n                                 onClick={() => props.showModal(ModalIds.DASHBOARD_IMPORT_EXPORT)}\n                />\n            </ul>\n        </div>\n    </li>\n};\n\nDashboardTopNavItem.propTypes = {\n    showModal: Prop.func.isRequired\n};\n\nexport default connect((state) => {\n    return {\n        state: state\n    }\n}, (dispatch) => {\n    return {\n        showModal: (id) => dispatch(Modal.showModal(id))\n    }\n})(DashboardTopNavItem);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dashboard/dashboardMenuEntry.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport {connect} from 'react-redux'\nimport * as Import from './import'\nimport ModalDialog from '../modal/modalDialog.ui'\nimport {PropTypes as Prop}  from \"react\";\n\nclass ImportExportDialog extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n        this.state = {state: null}\n    }\n\n    componentWillReceiveProps(nextProps) {\n        //this.refs.data.value = Import.serialize(nextProps.state);\n    }\n\n    componentDidMount() {\n    }\n\n    _loadData() {\n        this.refs.data.value = Import.serialize(this.props.state);\n        this.refs.data.focus();\n        this.refs.data.select();\n    }\n\n    _clearData() {\n        this.refs.data.value = \"\";\n        this.refs.data.focus();\n        this.refs.data.select();\n    }\n\n    _exportToClipboard() {\n        this.refs.data.focus();\n        this.refs.data.select();\n\n        try {\n            const successful = document.execCommand('copy');\n            const msg = successful ? 'successful' : 'unsuccessful';\n            console.log('Copying text command was ' + msg);\n        } catch (err) {\n            alert('Oops, unable to copy');\n        }\n    }\n\n    render() {\n        const props = this.props;\n        const actions = [\n            {\n                className: \"ui right black button\",\n                label: \"Close\",\n                onClick: () => true\n            },\n            {\n                className: \"ui right labeled icon positive button\",\n                iconClass: \"folder open icon\",\n                label: \"Import\",\n                onClick: () => {\n                    props.doImport(this.refs.data.value);\n                    return true;\n                }\n            }\n        ];\n\n        return <ModalDialog id=\"dashboard-import-export-dialog\"\n                            title=\"Import / Export Dashboard\"\n                            actions={actions}\n        >\n            <div className=\"ui one column grid\">\n                <div className=\"column\">\n                    <button className=\"ui compact labeled icon button\" onClick={this._loadData.bind(this)}>\n                        <i className=\"refresh icon\"></i>\n                        Load Data\n                    </button>\n                    <button className=\"ui compact labeled icon button\" onClick={this._exportToClipboard.bind(this)}>\n                        <i className=\"upload icon\"></i>\n                        Copy to Clipboard\n                    </button>\n                    <button className=\"ui compact labeled icon button\" onClick={this._clearData.bind(this)}>\n                        <i className=\"erase icon\"></i>\n                        Clear Data\n                    </button>\n                </div>\n                <div className=\"column\">\n                    <form className=\"ui form\">\n                        <div className=\"field\">\n                            <label>Data</label>\n                            <textarea className=\"monospace\" ref=\"data\" rows=\"10\" onFocus={(e) => e.target.select()}\n                                      placeholder='Click \"Load Data\" to get data for export or paste your data here ...'/>\n                        </div>\n                    </form>\n\n                </div>\n            </div>\n        </ModalDialog>\n    }\n}\n\nImportExportDialog.propTypes = {\n    state: Prop.object,\n    doImport: Prop.func.isRequired\n};\n\n\nexport default connect((state) => {\n    return {\n        state: state\n    }\n}, (dispatch) => {\n    return {\n        doImport: (state) => dispatch(Import.doImport(state))\n    }\n})(ImportExportDialog);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dashboard/importExportDialog.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Action from \"../actionNames\";\nimport {DASHBOARD_IMPORT} from \"../actionNames\";\nimport {loadEmptyLayout} from \"../layouts/layouts.js\";\nimport {State, GetState, Dispatch} from \"../appState\";\nimport * as _ from \"lodash\";\nimport Dashboard from \"../dashboard\";\n\n/**\n * To extend the import/export by another property you just need to add the property to the exported data\n * See: serialize()\n *\n * If there are any action needed after a property got imported, call them after the import.\n * See: afterImport()\n */\n\nexport function serialize(state: State) {\n    return JSON.stringify({\n        widgets: state.widgets,\n        datasources: state.datasources,\n        datasourcePlugins: state.datasourcePlugins,\n        widgetPlugins: state.widgetPlugins\n    });\n}\n\nfunction afterImport(dispatch: Dispatch, getState: GetState) {\n    const oldDashboard = Dashboard.getInstance();\n    oldDashboard.dispose();\n    const newDashboard = new Dashboard(oldDashboard.store)\n    newDashboard.init()\n}\n\nexport function importReducer(state: State, action: any) {\n    switch (action.type) {\n        case Action.DASHBOARD_IMPORT:\n            const newState = _.assign({}, state, action.state);\n            console.log(\"new State:\", state, action.state, newState)\n            return newState;\n        default:\n            return state\n    }\n}\n\nexport function deserialize(data: any) {\n    if (typeof data === \"string\") {\n        return JSON.parse(data);\n    }\n    else {\n        throw new Error(\"Dashboard data for import must be of type string but is \" + typeof data);\n    }\n}\n\nexport function doImport(data: any) {\n    const state = deserialize(data);\n    return function (dispatch: Dispatch, getState: GetState) {\n        // Bad hack to force the grid layout to update correctly\n        dispatch(loadEmptyLayout());\n        setTimeout(() => {\n            dispatch({\n                type: DASHBOARD_IMPORT,\n                state\n            });\n            afterImport(dispatch, getState);\n        }, 0);\n    }\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dashboard/import.ts\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport ModalDialog from '../modal/modalDialog.ui'\nimport * as Datasource from './datasource'\nimport {connect} from 'react-redux'\nimport * as _ from 'lodash'\nimport * as ui from '../ui/elements.ui'\nimport SettingsForm from '../ui/settingsForm.ui'\nimport {reset} from 'redux-form';\nimport * as ModalIds from '../modal/modalDialogIds'\nimport {PropTypes as Prop}  from \"react\";\n\nconst DIALOG_ID = ModalIds.DATASOURCE_CONFIG;\nconst FORM_ID = \"datasource-settings-form\";\n\nexport function unshiftIfNotExists(array, element, isEqual = (a, b) => a.id == b.id) {\n    if (array.find((e) => isEqual(e, element)) == undefined) {\n        array.unshift(element);\n    }\n}\n\nclass DatasourceConfigModal extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedType: ''\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.dialogData.datasource) {\n            const selectedType = nextProps.dialogData.datasource.type;\n            this.state = {\n                selectedType: selectedType\n            };\n        }\n    }\n\n    onSubmit(formData, dispatch) {\n        if (this._isEditing()) {\n            const id = this._getEditingDatasource().id;\n            this.props.updateDatasource(id, this.state.selectedType, formData);\n        }\n        else {\n            this.props.createDatasource(this.state.selectedType, formData);\n        }\n        return true;\n    }\n\n    resetForm() {\n        this.props.resetForm(FORM_ID);\n    }\n\n    _isEditing() {\n        return !!this.props.dialogData.datasource;\n    }\n\n    _getEditingDatasource() {\n        return this.props.dialogData.datasource;\n    }\n\n    clearData() {\n        this.props.clearData(this._getEditingDatasource().id)\n    }\n\n    render() {\n        /*\n         { this._isEditing() ?\n         <div className=\"ui right red button\" onClick={(e) => this.clearData()}>\n         Clear Data\n         </div>\n         : null }\n         */\n\n        const props = this.props;\n        const actions = [\n            {\n                className: \"ui button\",\n                label: \"Clear Data\",\n                onClick: () => {\n                    this.clearData();\n                    return false;\n                }\n            },\n            {\n                className: \"ui right button\",\n                label: \"Reset Form\",\n                onClick: () => {\n                    this.resetForm();\n                    return false;\n                }\n            },\n            {\n                className: \"ui right red button\",\n                label: \"Cancel\",\n                onClick: () => {\n                    this.resetForm();\n                    return true;\n                }\n            },\n            {\n                className: \"ui right labeled icon positive button\",\n                iconClass: \"save icon\",\n                label: this._isEditing() ? \"Save\" : \"Create\",\n                onClick: () => {\n                    const success = this.refs.form.submit();\n                    if (success) this.resetForm();\n                    return success;\n                }\n            }\n        ];\n\n        let selectedDsPluginState;\n        if (this.state.selectedType) {\n            selectedDsPluginState = props.datasourcePlugins[this.state.selectedType];\n        }\n\n        let settings = [];\n        if (selectedDsPluginState && selectedDsPluginState.typeInfo.settings) {\n            settings = [...selectedDsPluginState.typeInfo.settings];\n        }\n        else {\n            settings = [];\n        }\n\n        unshiftIfNotExists(settings, {\n            id: 'maxValues',\n            name: 'MaxValues',\n            type: 'number',\n            description: \"Maximum number of values stored\",\n            defaultValue: 100\n        });\n        unshiftIfNotExists(settings, {\n            id: 'name',\n            name: 'Name',\n            type: 'string',\n            defaultValue: selectedDsPluginState ? selectedDsPluginState.typeInfo.name : \"\"\n        });\n\n        let initialValues = {};\n        if (this._isEditing()) {\n            initialValues = Object.assign({}, this._getEditingDatasource().settings)\n        }\n        else {\n            initialValues = settings.reduce((initialValues, setting) => {\n                if (setting.defaultValue !== undefined) {\n                    initialValues[setting.id] = setting.defaultValue;\n                }\n                return initialValues;\n            }, {});\n        }\n\n        let title = \"Create Datasource\";\n        if (this._isEditing()) {\n            title = \"Edit Datasource\";\n        }\n\n        return <ModalDialog id={DIALOG_ID}\n                            title={title}\n                            actions={actions}\n        >\n            <div className=\"ui one column grid\">\n                <div className=\"column\">\n                    {selectedDsPluginState && selectedDsPluginState.typeInfo.description ?\n\n                        <div className=\"ui icon message\">\n                            <i className=\"idea icon\"/>\n                            <div className=\"content\">\n                                {selectedDsPluginState.typeInfo.description}\n                            </div>\n\n                        </div>\n                        : null\n                    }\n                    <div className=\"field\">\n                        <label>Type</label>\n                        <select className=\"ui fluid dropdown\" name=\"type\" value={this.state.selectedType}\n                                onChange={(e) => {\n                                    this.setState({selectedType: e.target.value});\n                                }}\n                        >\n                            <option key=\"none\" value=\"\">Select Type...</option>\n                            {_.valuesIn(props.datasourcePlugins).map(dsPlugin => {\n                                return (\n                                    !dsPlugin.isLoading ? <option key={dsPlugin.id} value={dsPlugin.id}>{dsPlugin.typeInfo.name}</option>\n                                        : null)\n                            })}\n                        </select>\n                    </div>\n                    <ui.Divider/>\n                    <SettingsForm ref=\"form\"\n                                  form={FORM_ID}\n                                  onSubmit={this.onSubmit.bind(this)}\n                                  settings={settings}\n                                  initialValues={initialValues}\n                    />\n                </div>\n            </div>\n        </ModalDialog>\n    }\n}\n\nDatasourceConfigModal.propTypes = {\n    createDatasource: Prop.func.isRequired,\n    updateDatasource: Prop.func.isRequired,\n    resetForm: Prop.func.isRequired,\n    dialogData: Prop.object.isRequired,\n    datasourcePlugins: Prop.object.isRequired\n};\n\n\nexport default connect(\n    (state) => {\n        return {\n            dialogData: state.modalDialog.data || {},\n            datasourcePlugins: state.datasourcePlugins\n        }\n    },\n    (dispatch) => {\n        return {\n            resetForm: (id) => dispatch(reset(id)),\n            clearData: (id) => dispatch(Datasource.clearData(id)),\n            createDatasource: (type, dsSettings) => {\n                dispatch(Datasource.createDatasource(type, dsSettings))\n            },\n            updateDatasource: (id, type, dsSettings) => {\n                dispatch(Datasource.updateDatasource(id, type, dsSettings))\n            }\n        }\n    }\n)(DatasourceConfigModal);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourceConfigDialog.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport * as Datasource from \"./datasource\";\nimport {connect} from \"react-redux\";\nimport * as _ from 'lodash'\nimport * as ui from \"../ui/elements.ui\";\nimport {reset} from \"redux-form\";\nimport {PropTypes as Prop}  from \"react\";\n\n\nconst DatasourceTopNavItem = (props) => {\n    return <li\n        className=\"slds-context-bar__item slds-context-bar__dropdown-trigger slds-dropdown-trigger slds-dropdown-trigger--hover\"\n        aria-haspopup=\"true\">\n        <a href=\"javascript:void(0);\" className=\"slds-context-bar__label-action\" title=\"Datasources\">\n            <span className=\"slds-truncate\">Datasources</span>\n        </a>\n        <div className=\"slds-context-bar__icon-action slds-p-left--none\" tabIndex=\"0\">\n            <button className=\"slds-button slds-button--icon slds-context-bar__button\" tabIndex=\"-1\">\n                <svg aria-hidden=\"true\" className=\"slds-button__icon\">\n                    <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#chevrondown\"></use>\n                </svg>\n                <span className=\"slds-assistive-text\">Open Datasources submenu</span>\n            </button>\n        </div>\n        <div className=\"slds-dropdown slds-dropdown--right\">\n            <ul className=\"dropdown__list\" role=\"menu\">\n                <ui.DropdownItem\n                    text=\"Add Datasource\"\n                    icon=\"add\"\n                    onClick={() => props.createDatasource()}\n                />\n                <li className=\"slds-dropdown__header slds-has-divider--top-space\" role=\"separator\">\n                    <span className=\"slds-text-title--caps\">Datasources</span>\n                </li>\n                {_.valuesIn(props.datasources).map(ds => {\n                    return <ui.DropdownItem key={ds.id}\n                        text={ds.settings.name}\n                        iconRight=\"delete\"\n                        iconRightClick={() => props.deleteDatasource(ds.id)}\n                        onClick={() => props.editDatasource(ds.id)}\n                    />\n                })}\n            </ul>\n        </div>\n    </li>\n};\n\nDatasourceTopNavItem.propTypes = {\n    createDatasource: Prop.func.isRequired,\n    editDatasource: Prop.func.isRequired,\n    deleteDatasource: Prop.func.isRequired,\n    datasources: Prop.objectOf(\n        Prop.shape({\n            type: Prop.string.isRequired,\n            id: Prop.string.isRequired,\n            settings: Prop.object.isRequired\n        })\n    ).isRequired\n};\n\nexport default connect(\n    (state) => {\n        return {\n            datasources: state.datasources\n        }\n    },\n    (dispatch) => {\n        return {\n            createDatasource: () => dispatch(Datasource.startCreateDatasource()),\n            editDatasource: (id) => dispatch(Datasource.startEditDatasource(id)),\n            deleteDatasource: (id) => dispatch(Datasource.deleteDatasource(id))\n        }\n    }\n)(DatasourceTopNavItem);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourceNavItem.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from \"react\";\nimport {PropTypes as Prop} from \"react\";\nimport {connect} from \"react-redux\";\nimport * as WidgetConfig from \"./widgetConfig\";\nimport * as _ from \"lodash\";\nimport * as ui from \"../ui/elements.ui\";\nimport * as WidgetPlugins from \"./widgetPlugins\";\nimport {reset} from \"redux-form\";\n\n\nconst WidgetsNavItem = (props) => {\n\n    return <li\n        className=\"slds-context-bar__item slds-context-bar__dropdown-trigger slds-dropdown-trigger slds-dropdown-trigger--hover\"\n        aria-haspopup=\"true\">\n        <a href=\"javascript:void(0);\" className=\"slds-context-bar__label-action\" title=\"Widgets\">\n            <span className=\"slds-truncate\">Add Widget</span>\n        </a>\n        <div className=\"slds-context-bar__icon-action slds-p-left--none\" tabIndex=\"0\">\n            <button className=\"slds-button slds-button--icon slds-context-bar__button\" tabIndex=\"-1\">\n                <svg aria-hidden=\"true\" className=\"slds-button__icon\">\n                    <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#chevrondown\"></use>\n                </svg>\n                <span className=\"slds-assistive-text\">Open Add Widget submenu</span>\n            </button>\n        </div>\n        <div className=\"slds-dropdown slds-dropdown--right\">\n            <ul className=\"dropdown__list\" role=\"menu\">\n                {\n                    _.valuesIn(props.widgetPlugins).map(widgetPlugin => {\n                        return <ui.DropdownItem key={widgetPlugin.id}\n                                                text={widgetPlugin.typeInfo.name}\n                                                icon=\"add\"\n                                                onClick={() => props.createWidget(widgetPlugin.typeInfo.type)}\n                        />\n                    })\n                }\n            </ul>\n        </div>\n    </li>\n};\n\nWidgetsNavItem.propTypes = {\n    widgetPlugins: Prop.objectOf(\n        Prop.shape({\n            id: Prop.string.isRequired,\n            typeInfo: Prop.shape({\n                type: Prop.string.isRequired,\n                name: Prop.string.isRequired,\n                settings: Prop.array\n            })\n        })\n    )\n};\n\nexport default connect(\n    (state) => {\n        return {\n            widgetPlugins: state.widgetPlugins\n        }\n    },\n    (dispatch) => {\n        return {\n            createWidget: (type) => {\n                dispatch(WidgetConfig.createWidget(type))\n            }\n        }\n    }\n)(WidgetsNavItem);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetsNavItem.ui.js\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from 'react'\nimport {connect} from 'react-redux'\nimport * as ModalIds from '../modal/modalDialogIds'\nimport * as Modal from '../modal/modalDialog.js'\nimport {State, Dispatch} from \"../appState\";\n\ninterface PluginsTopNavItemProps {\n    showPluginsDialog: () => void\n}\n\n\nconst PluginsTopNavItem = (props: PluginsTopNavItemProps) => {\n    return <li className=\"slds-context-bar__item\">\n        <a href=\"javascript:void(0);\"  onClick={() => props.showPluginsDialog()} className=\"slds-context-bar__label-action\" title=\"Plugins\">\n            <span className=\"slds-truncate\">Plugin Manager</span>\n        </a>\n    </li>\n};\n\nexport default connect(\n    (state: State) => {\n        return {}\n    },\n    (dispatch: Dispatch) => {\n        return {\n            showPluginsDialog: () => {\n                dispatch(Modal.showModal(ModalIds.PLUGINS))\n            }\n        }\n    }\n)(PluginsTopNavItem);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginNavItem.ui.tsx\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as React from \"react\";\nimport ModalDialog from \"../modal/modalDialog.ui\";\nimport {connect} from \"react-redux\";\nimport * as _ from \"lodash\";\nimport * as Modal from \"../modal/modalDialog.js\";\nimport * as Config from \"../config\";\nimport * as Plugins from \"../pluginApi/pluginLoader\";\nimport * as WidgetsPlugins from \"../widgets/widgetPlugins\";\nimport {IWidgetPluginsState, IWidgetPluginState} from \"../widgets/widgetPlugins\";\nimport * as DatasourcePlugins from \"../datasource/datasourcePlugins\";\nimport {IDatasourcePluginsState, IDatasourcePluginState} from \"../datasource/datasourcePlugins\";\nimport {Dispatch, State} from \"../appState\";\nimport {ITypeInfo} from \"./pluginTypes\";\n\ninterface PluginsModalProps {\n    datasourcePlugins: IDatasourcePluginsState\n    widgetPlugins: IWidgetPluginsState\n    pluginRegistryApiKey: string\n    pluginRegistryUrl: string\n    closeDialog: () => void\n    loadPlugin: (url: string) => void\n    setConfigValue: (key: string, value: any) => void\n}\n\ninterface PluginsModalState {\n    pluginUrl?: string\n    isSearchOpen?: boolean\n}\n\nclass PluginsModal extends React.Component<PluginsModalProps, PluginsModalState> {\n\n    constructor(props: PluginsModalProps) {\n        super(props)\n        this.state = {\n            pluginUrl: \"\",\n            isSearchOpen: false\n        }\n    }\n\n    pluginSearchValueChange(e: React.FormEvent<any>) {\n        const url = this.pluginUrlValue();\n        if (this.isUrl(url)) {\n            this.setState({isSearchOpen: false});\n        } else {\n            this.setState({isSearchOpen: true});\n        }\n\n        this.setState({pluginUrl: this.pluginUrlValue()});\n    }\n\n    onBlurPluginSearchInput(e: React.FormEvent<any>) {\n        setTimeout(() => {\n            this.setState({isSearchOpen: false});\n        }, 300)\n\n    }\n\n    isUrl(url: string) {\n        return url === '' || _.startsWith(url, \".\") || _.startsWith(url, \"/\") || _.startsWith(url, \"http:\") || _.startsWith(url, \"https:\")\n    }\n\n    onFocusPluginSearchInput(e: React.FormEvent<any>) {\n        const url = this.pluginUrlValue();\n        if (this.isUrl(url)) {\n            this.setState({isSearchOpen: false});\n        } else {\n            this.setState({isSearchOpen: true});\n        }\n    }\n\n    pluginUrlValue(): string {\n        const pluginUrlInput = this.refs['pluginUrl'] as HTMLInputElement;\n        return _.trim(pluginUrlInput.value);\n    }\n\n    clearUrl() {\n        const pluginUrlInput = this.refs['pluginUrl'] as HTMLInputElement;\n        pluginUrlInput.value = \"\"\n        this.setState({pluginUrl: \"\"});\n    }\n\n    render() {\n        const props = this.props;\n\n        const actions = [\n            {\n                className: \"ui right labeled icon positive button\",\n                iconClass: \"save icon\",\n                label: \"Close\",\n                onClick: () => {\n                    props.closeDialog()\n                }\n            }\n        ];\n\n        const datasourcePluginStates = _.valuesIn(props.datasourcePlugins);\n        const widgetPluginStates = _.valuesIn(props.widgetPlugins);\n        const pluginUrlInput: any = this.refs['pluginUrl'] // HTMLInputElement\n\n        return <ModalDialog id=\"plugins-dialog\"\n                            title=\"Plugin Manager\"\n                            actions={actions}\n        >\n            <div className=\"slds-grid\">\n                <div className=\"slds-size--1-of-1\">\n                    <h2 className=\"slds-section-title--divider slds-m-bottom--medium\">\n                        Load Plugin <PluginRegistrySettings\n                        pluginRegistryApiKey={props.pluginRegistryApiKey}\n                        pluginRegistryUrl={props.pluginRegistryUrl}\n                        onApiKeyChanged={(key) => this.props.setConfigValue(\"pluginRegistryApiKey\", key)}\n                        onRegistryUrlChanged={(url) =>  this.props.setConfigValue(\"pluginRegistryUrl\", url)}\n                    />\n                    </h2>\n                    <form className=\"slds-form--inline slds-grid\"\n                          onSubmit={(e) => {\n                              props.loadPlugin(pluginUrlInput.value);\n                              this.clearUrl()\n                              e.preventDefault()\n                          }}\n                    >\n                        <div className={\"slds-form-element slds-has-flexi-truncate slds-lookup\" + (this.state.isSearchOpen ? \" slds-is-open\" : \"\")} data-select=\"single\">\n                            <div className=\"slds-form-element__control slds-size--1-of-1\">\n                                <div className=\"slds-input-has-icon slds-input-has-icon--right\">\n                                    <svg aria-hidden=\"true\" className=\"slds-input__icon\">\n                                        <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#search\"></use>\n                                    </svg>\n                                    <input className=\"slds-lookup__search-input slds-input\" type=\"search\" placeholder=\"URL or Id from Plugin Registry\"\n                                           id=\"plugin-lookup-menu\" ref=\"pluginUrl\" autoComplete={(this.state.isSearchOpen ? \" off\" : \"on\")}\n                                           defaultValue=\"\"\n                                           onChange={(e) => this.pluginSearchValueChange(e)}\n                                           onBlur={(e) => this.onBlurPluginSearchInput(e)}\n                                           onFocus={(e) => this.onFocusPluginSearchInput(e)}\n                                           aria-owns=\"plugin-lookup-menu\" role=\"combobox\" aria-activedescendent=\"\"\n                                           aria-expanded={(this.state.isSearchOpen ? \"true\" : \"false\")} aria-autocomplete=\"list\"\n                                    />\n                                </div>\n                            </div>\n                            <LookupMenu id=\"plugin-lookup-menu\" searchString={this.state.pluginUrl} pluginRegistryUrl={this.props.pluginRegistryUrl}\n                                        onItemClicked={(item: ITypeInfo) => props.loadPlugin('plugin://' + item.type)}\n                            />\n                        </div>\n                        <div className=\"slds-form-element slds-no-flex\">\n                            <button className=\"slds-button slds-button--brand\" type=\"submit\" tabIndex={0}>\n                                Load&nbsp;Plugin\n                            </button>\n                        </div>\n\n                    </form>\n\n                    <h4 className=\"slds-section-title--divider slds-m-top--medium slds-m-bottom--medium\">Datasource Plugins (Installed)</h4>\n                    <div className=\"slds-grid slds-grid--vertical-stretch slds-wrap slds-has-dividers--around-space\">\n                        {datasourcePluginStates.map(dsState => {\n                            return <DatasourcePluginTile key={dsState.id} pluginId={dsState.id}/>;\n                        })}\n                    </div>\n                    <h4 className=\"slds-section-title--divider slds-m-top--medium slds-m-bottom--medium\">Widget Plugins (Installed)</h4>\n                    <div className=\"slds-grid slds-grid--vertical-stretch slds-wrap slds-has-dividers--around-space\">\n                        {widgetPluginStates.map(dsState => {\n                            return <WidgetPluginTile key={dsState.id} pluginId={dsState.id}/>;\n                        })}\n                    </div>\n                </div>\n            </div>\n        </ModalDialog>\n    }\n}\n\nexport default connect(\n    (state: State) => {\n        return {\n            widgetPlugins: state.widgetPlugins,\n            datasourcePlugins: state.datasourcePlugins,\n            pluginRegistryApiKey: state.config.pluginRegistryApiKey,\n            pluginRegistryUrl: state.config.pluginRegistryUrl\n        }\n    },\n    (dispatch: Dispatch) => {\n        return {\n            closeDialog: () => dispatch(Modal.closeModal()),\n            // TODO: Render loading indicator while Plugin loads\n            // maybe build some generic solution for Ajax calls where the state can hold all information to render loading indicators / retry buttons etc...\n            loadPlugin: (url: string) => dispatch(Plugins.startLoadingPluginFromUrl(url)),\n            setConfigValue: (key: string, value: any) => dispatch(Config.setConfigValue(key, value))\n        }\n    }\n)\n(PluginsModal);\n\n\nclass PluginTileProps {\n    pluginId: string\n    pluginState: IDatasourcePluginState & IWidgetPluginState\n    removePlugin: (type: string) => any\n    publishPlugin: (type: string) => void\n    publishAndUsePlugin: (type: string) => void\n}\n\nclass PluginTile extends React.Component<PluginTileProps, any> {\n\n    constructor(props: PluginTileProps) {\n        super(props)\n        this.state = {actionMenuOpen: false}\n    }\n\n    _copyUrl() {\n        const urlInput: any = this.refs['url'];\n        urlInput.focus();\n        urlInput.select();\n        document.execCommand('copy');\n    }\n\n    toggleActionMenu() {\n        this.setState({actionMenuOpen: !this.state.actionMenuOpen})\n    }\n\n    closeActionMenu() {\n        this.setState({actionMenuOpen: false})\n    }\n\n    render() {\n        const props = this.props;\n        const pluginState = props.pluginState;\n        const description = pluginState.typeInfo.description ? pluginState.typeInfo.description : \"No Description.\"\n        const url = pluginState.url ? pluginState.url : \"Packaged\"\n\n        return <div className=\"slds-tile slds-item slds-size--1-of-5 slds-m-around--x-small\" style={{marginTop: \"0.5rem\"}}>\n            <div className=\"slds-grid slds-grid--align-spread slds-has-flexi-truncate slds-m-bottom--x-small\">\n\n                <h3 className=\"slds-text-heading--medium\">{pluginState.typeInfo.name}</h3>\n                <div className={\"slds-shrink-none slds-dropdown-trigger slds-dropdown-trigger--click\" + (this.state.actionMenuOpen ? \" slds-is-open\" : \"\")}>\n                    <button className=\"slds-button slds-button--icon-border-filled slds-button--icon-x-small\" aria-haspopup=\"true\"\n                            onClick={() => this.toggleActionMenu()} onBlur={() => setTimeout(()=>this.closeActionMenu(), 200)}\n                    >\n                        <svg aria-hidden=\"true\" className=\"slds-button__icon slds-button__icon--hint\">\n                            <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#down\"></use>\n                        </svg>\n                        <span className=\"slds-assistive-text\">Actions</span>\n                    </button>\n                    <div className=\"slds-dropdown slds-dropdown--left slds-dropdown--actions\" style={{zIndex:9003}}>\n                        <ul className=\"dropdown__list\" role=\"menu\">\n                            <li className=\"slds-dropdown__item\" role=\"presentation\">\n                                <a href=\"javascript:void(0);\" role=\"menuitem\" tabIndex={0} onClick={() => props.publishPlugin(pluginState.id)}>\n                                    <svg aria-hidden=\"true\" className=\"slds-icon slds-icon--x-small slds-icon-text-default slds-m-right--x-small slds-shrink-none\">\n                                        <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#upload\"/>\n                                    </svg>\n                                    <span className=\"slds-truncate\">Publish</span>\n                                </a>\n                            </li>\n                            <li className=\"slds-dropdown__item\" role=\"presentation\">\n                                <a href=\"javascript:void(0);\" role=\"menuitem\" tabIndex={0} onClick={() => props.publishAndUsePlugin(pluginState.id)}>\n                                    <svg aria-hidden=\"true\" className=\"slds-icon slds-icon--x-small slds-icon-text-default slds-m-right--x-small slds-shrink-none\">\n                                        <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#upload\"/>\n                                    </svg>\n                                    <span className=\"slds-truncate\">Publish and use</span>\n                                </a>\n                            </li>\n                            <li className=\"slds-dropdown__item\" role=\"presentation\">\n                                <a href=\"javascript:void(0);\" role=\"menuitem\" tabIndex={0} onClick={() => props.removePlugin(pluginState.id)}>\n                                    <svg aria-hidden=\"true\" className=\"slds-icon slds-icon--x-small slds-icon-text-default slds-m-right--x-small slds-shrink-none\">\n                                        <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#delete\"/>\n                                    </svg>\n                                    <span className=\"slds-truncate\">Remove</span>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <div className=\"slds-tile__detail slds-is-relative\">\n                { pluginState.isLoading ?\n                    <div className=\"slds-spinner_container\">\n                        <div className=\"slds-spinner slds-spinner--small\" role=\"alert\">\n                            <span className=\"slds-assistive-text\">Loading</span>\n                            <div className=\"slds-spinner__dot-a\"></div>\n                            <div className=\"slds-spinner__dot-b\"></div>\n                        </div>\n                    </div>\n                    : null\n                }\n\n                <dl className=\"slds-dl--horizontal\">\n                    <dt className=\"slds-dl--horizontal__label\">\n                        <p className=\"slds-truncate\" title=\"Type\">Type:</p>\n                    </dt>\n                    <dd className=\"slds-dl--horizontal__detail slds-tile__meta\">\n                        <p className=\"slds-truncate\" title={pluginState.typeInfo.type}>{pluginState.typeInfo.type}</p>\n                    </dd>\n                    <dt className=\"slds-dl--horizontal__label\">\n                        <p className=\"slds-truncate\" title=\"Version\">Version:</p>\n                    </dt>\n                    <dd className=\"slds-dl--horizontal__detail slds-tile__meta\">\n                        <p className=\"slds-truncate\" title={pluginState.typeInfo.version}>{pluginState.typeInfo.version}</p>\n                    </dd>\n\n                    <dt className=\"slds-dl--horizontal__label\">\n                        <p className=\"slds-truncate\" title=\"Author\">Author:</p>\n                    </dt>\n                    <dd className=\"slds-dl--horizontal__detail slds-tile__meta\">\n                        <p className=\"slds-truncate\" title={pluginState.typeInfo.author}>{pluginState.typeInfo.author}</p>\n                    </dd>\n                    <dt className=\"slds-dl--horizontal__label\">\n                        <p className=\"slds-truncate\" title=\"Type\">Url:</p>\n                    </dt>\n                    <dd className=\"slds-dl--horizontal__detail slds-tile__meta\">\n                        <div className=\"slds-form-element__control slds-input-has-icon slds-input-has-icon--left\" title={url}>\n                            <svg aria-hidden=\"true\" className=\"slds-input__icon slds-icon-text-default\"\n                                 onClick={() => this._copyUrl()}>\n                                <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#copy\"></use>\n                            </svg>\n                            <input className=\"slds-input\" type=\"text\" ref=\"url\"\n                                   readOnly\n                                   style={{width: \"100%\", paddingRight: 0}}\n                                   placeholder=\"Plugin Url ...\"\n                                   value={url}/>\n                        </div>\n                    </dd>\n                </dl>\n                <p className=\"slds-m-top--x-small\">{description}</p>\n            </div>\n        </div>\n    }\n}\n\n\nconst WidgetPluginTile = connect(\n    (state: State, ownProps: any) => {\n        return {\n            pluginState: state.widgetPlugins[ownProps.pluginId]\n        }\n    },\n    (dispatch: Dispatch) => {\n        return {\n            removePlugin: (type: string) => dispatch(WidgetsPlugins.unloadPlugin(type)),\n            publishPlugin: (type: string) => dispatch(Plugins.publishPlugin(type, false)),\n            publishAndUsePlugin: (type: string) => dispatch(Plugins.publishPlugin(type, true))\n        }\n    }\n)(PluginTile);\n\nconst DatasourcePluginTile = connect(\n    (state: State, ownProps: any) => {\n        return {\n            pluginState: state.datasourcePlugins[ownProps.pluginId]\n        }\n    },\n    (dispatch: Dispatch) => {\n        return {\n            removePlugin: (type: string) => dispatch(DatasourcePlugins.unloadPlugin(type)),\n            publishPlugin: (type: string) => dispatch(Plugins.publishPlugin(type, false)),\n            publishAndUsePlugin: (type: string) => dispatch(Plugins.publishPlugin(type, true))\n        }\n    }\n)(PluginTile);\n\n\ninterface LookupMenuProps {\n    id: string\n    pluginRegistryUrl: string\n    searchString: string\n    onItemClicked(item: ITypeInfo): void\n}\n\ninterface LookupMenuState {\n    searchResult: ITypeInfo[]\n}\n\nclass LookupMenu extends React.Component<LookupMenuProps, LookupMenuState> {\n\n    constructor(props: LookupMenuProps) {\n        super(props)\n        this.state = {\n            searchResult: []\n        }\n    }\n\n    componentWillReceiveProps(nextProps: LookupMenuProps) {\n        if (!nextProps.searchString) {\n            this.setState({\n                searchResult: []\n            })\n            return;\n        }\n\n        fetch(nextProps.pluginRegistryUrl + \"/api/plugins/?q=\" + nextProps.searchString)\n            .then((result) => {\n                return result.json()\n            })\n            .then((json: any) => {\n                this.setState({\n                    searchResult: json.plugins || []\n                })\n            })\n    }\n\n    render() {\n        const props = this.props;\n\n        /*Icons for Widget = dashboard, report, poll / Datasource = feed */\n\n        return <div className=\"slds-lookup__menu\" id={props.id}>\n            <ul className=\"slds-lookup__list\" role=\"presentation\">\n                <li role=\"presentation\">\n                    <span className=\"slds-lookup__item-action slds-lookup__item-action--label\" id={props.id + \"-header\"} role=\"option\">\n                      <svg aria-hidden=\"true\" className=\"slds-icon slds-icon--x-small slds-icon-text-default\">\n                        <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#search\"></use>\n                      </svg>\n                      <span className=\"slds-truncate\">&quot;{props.searchString}&quot; in plugin registry</span>\n                    </span>\n                </li>\n                {\n                    this.state.searchResult.map((item, i) => {\n                        return <li role=\"presentation\" key={item.type}\n                                   onClick={(e) => this.props.onItemClicked(item)}\n                        >\n                            <span className=\"slds-lookup__item-action slds-media slds-media--center\" id={props.id + \"-\" + i} role=\"option\">\n                              <svg aria-hidden=\"true\" className=\"slds-icon slds-icon-standard-account slds-icon--small slds-media__figure\">\n                                <use xlinkHref=\"assets/icons/standard-sprite/svg/symbols.svg#dashboard\"></use>\n                              </svg>\n                              <div className=\"slds-media__body\">\n                                <div className=\"slds-lookup__result-text\"><mark>{item.name}</mark> ({item.type})</div>\n                                <span className=\"slds-lookup__result-meta slds-text-body--small\">DS/Widget • by {item.author} • {item.description}</span>\n                              </div>\n                            </span>\n                        </li>\n                    })\n                }\n            </ul>\n        </div>\n    }\n}\n\ninterface RegistrySettingsProps {\n    pluginRegistryApiKey: string\n    pluginRegistryUrl: string\n    onRegistryUrlChanged(value: string): void\n    onApiKeyChanged(value: string): void\n}\n\ninterface RegistrySettingsState {\n    actionMenuOpen: boolean\n}\n\nclass PluginRegistrySettings extends React.Component<RegistrySettingsProps, RegistrySettingsState> {\n\n    private timeout: number\n\n    constructor(props: RegistrySettingsProps) {\n        super(props)\n        this.state = {actionMenuOpen: false}\n    }\n\n    toggleActionMenu() {\n        this.clearTimeout()\n        this.setState({actionMenuOpen: !this.state.actionMenuOpen})\n    }\n\n    closeActionMenu() {\n        this.clearTimeout()\n        this.setState({actionMenuOpen: false})\n    }\n\n    closeActionMenuIn(ms: number) {\n        this.clearTimeout()\n        this.timeout = setTimeout(() => this.closeActionMenu(), ms)\n    }\n\n    clearTimeout() {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n    }\n\n    onRegistryUrlChanged(e: React.FormEvent<any>) {\n        const target: any = e.target;\n        this.props.onRegistryUrlChanged(target.value)\n    }\n\n    onApiKeyChanged(e: React.FormEvent<any>) {\n        const target: any = e.target;\n        this.props.onApiKeyChanged(target.value)\n    }\n\n    render() {\n        return <div className={\"slds-shrink-none slds-dropdown-trigger slds-dropdown-trigger--click\" + (this.state.actionMenuOpen ? \" slds-is-open\" : \"\")}>\n            <button className=\"slds-button slds-button--icon-border-filled slds-button--icon-x-small\" aria-haspopup=\"true\"\n                    onClick={() => this.toggleActionMenu()} onBlur={() => this.closeActionMenuIn(200)}\n            >\n                <svg aria-hidden=\"true\" className=\"slds-button__icon slds-button__icon--hint\">\n                    <use xlinkHref=\"assets/icons/utility-sprite/svg/symbols.svg#settings\"></use>\n                </svg>\n                <span className=\"slds-assistive-text\">Actions</span>\n            </button>\n            <div className=\"slds-dropdown slds-dropdown--left slds-dropdown--large\">\n                <ul className=\"dropdown__list\" role=\"menu\">\n                    <li className=\"slds-dropdown__item\" role=\"presentation\">\n                        <span className=\"slds-truncate slds-m-around--x-small\">Registry Url</span>\n                    </li>\n                    <li className=\"slds-dropdown__item\" role=\"presentation\">\n                        <div className=\"slds-form-element__control\">\n                            <input className=\"slds-input\" type=\"text\" placeholder=\"http://dashboard.lobaro.com\"\n                                   defaultValue={this.props.pluginRegistryUrl}\n                                   onFocus={() => this.clearTimeout()}\n                                   onBlur={() => this.closeActionMenuIn(200)}\n                                   onChange={(e) => this.onRegistryUrlChanged(e)}\n                            />\n                        </div>\n                    </li>\n                    <li className=\"slds-dropdown__item\" role=\"presentation\">\n                        <span className=\"slds-truncate slds-m-around--x-small\">Api Key</span>\n                    </li>\n                    <li className=\"slds-dropdown__item\" role=\"presentation\">\n                        <div className=\"slds-form-element__control\">\n                            <input className=\"slds-input\" type=\"text\" placeholder=\"Api Key\"\n                                   defaultValue={this.props.pluginRegistryApiKey}\n                                   onFocus={() => this.clearTimeout()}\n                                   onBlur={() => this.closeActionMenuIn(200)}\n                                   onChange={(e) => this.onApiKeyChanged(e)}\n                            />\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginsDialog.ui.tsx\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport * as _ from 'lodash'\nimport * as Action from './actionNames'\n\nconst buildInfo = <IConfigState>require('./buildInfo.json');\n\n/**\n * Override config values at runtime in dashboard.json, see: https://gitlab.com/lobaro/iot-dashboard/wikis/home#configuration\n */\nconst defaultConfig: IConfigState = {\n    version: \"\",\n    revision: \"\",\n    revisionShort: \"\",\n    branch: \"\",\n    persistenceTarget: \"local-storage\",\n    devMode: true,\n    auth: {\n        username: null,\n        logoutUrl: null\n    },\n    title: {\n        text: \"IoT-Dashboard\",\n        url: \"http://iot-dashboard.org\"\n    },\n    pluginRegistryApiKey: \"\",\n    pluginRegistryUrl: \"https://dashboard.lobaro.com\"\n};\n\n\nexport interface IConfigState {\n    devMode: boolean\n    version: string\n    revision: string\n    revisionShort: string\n    branch: string\n    persistenceTarget: string | \"local-storage\" | \"\"\n    auth: IAuthConfig\n    pluginRegistryApiKey: string\n    pluginRegistryUrl: string\n    title: ITitleConfig\n}\n\nexport interface IAuthConfig {\n    username: string\n    logoutUrl: string\n}\n\nexport interface ITitleConfig {\n    text: string\n    url: string\n}\n\nexport function setConfigValue(key: string, value: any) {\n    return {\n        type: Action.SET_CONFIG_VALUE,\n        key,\n        value\n    }\n}\n\nexport function config(state: IConfigState = buildInfo, action: any): IConfigState {\n    switch (action.type) {\n        case Action.SET_CONFIG_VALUE: {\n            let value = action.value;\n            if (action.key === 'pluginRegistryUrl' && _.endsWith(value, '/')) {\n                value = value.replace(/\\/+$/, \"\");\n            }\n            return _.assign({}, defaultConfig, state, {[action.key]: value}, buildInfo)\n        }\n        default:\n            // Content of configJson overrides everything else!\n            return _.assign({}, defaultConfig, state, buildInfo);\n    }\n}\n\nexport default config;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/config.ts\n **/","module.exports = {\n\t\"version\": \"0.2.6\",\n\t\"revision\": \"9f2ce7cbb0169a71fd8ef99ea0ed2ee69e1afeb6\",\n\t\"revisionShort\": \"9f2ce7c\",\n\t\"branch\": \"Detatched: 9f2ce7cbb0169a71fd8ef99ea0ed2ee69e1afeb6\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/buildInfo.json\n ** module id = 103\n ** module chunks = 0 1\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport {Action, State} from \"./appState\";\nimport * as _ from 'lodash'\nimport * as $ from 'jquery'\nimport Store = Redux.Store;\n\nlet lastAction: IPersistenceAction = {type: \"NONE\"};\nlet allowSave = true;\nlet saveTimeout: number;\n\nexport interface IPersistenceAction extends Action {\n    doNotPersist?: boolean\n}\n\nexport function clearData() {\n    if (window.confirm(\"Wipe app data and reload page?\")) {\n        if (saveTimeout) {\n            clearTimeout(saveTimeout);\n        }\n        window.localStorage.setItem(\"appState\", undefined);\n        location.reload();\n    }\n}\n\n// TODO: type middleware\nexport function persistenceMiddleware({getState}: Store<State>): any {\n    return (next: any) => (action: IPersistenceAction) => {\n\n        const nextState = next(action);\n\n        if (!allowSave) {\n            lastAction = action;\n            return nextState;\n        }\n\n\n        if (!action.doNotPersist) {\n            // we wait some before we save\n            // this leads to less saving (max every 100ms) without loosing actions\n            // if we would just block saving for some time after saving an action we would loose the last actions\n            allowSave = false;\n            saveTimeout = setTimeout(() => {\n                save(getState());\n                console.log('Saved state @' + lastAction.type);\n\n                allowSave = true;\n            }, 100)\n\n\n        }\n        lastAction = action;\n        return nextState;\n    }\n}\n\nfunction save(state: State) {\n    const target = state.config.persistenceTarget;\n\n    const savableState: State = _.assign({}, state);\n\n    delete savableState.form;\n    delete savableState.modalDialog;\n\n    if (target === \"local-storage\") {\n        saveToLocalStorage(savableState);\n    }\n    else if (target) {\n        saveToServer(target, savableState);\n    }\n}\n\nfunction saveToServer(target: string, state: State) {\n    $.post({\n        url: target,\n        data: JSON.stringify(state),\n        dataType: 'json',\n        contentType: \"application/json; charset=utf-8\"\n    });\n}\n\nfunction saveToLocalStorage(state: State) {\n    if (typeof window === 'undefined') {\n        console.warn(\"Can not save to local storage in current environment.\");\n        return;\n    }\n    window.localStorage.setItem(\"appState\", JSON.stringify(state));\n}\n\n\nexport function loadFromLocalStorage() {\n    if (typeof window === 'undefined') {\n        console.warn(\"Can not load from local storage in current environment.\");\n        return undefined;\n    }\n\n    const stateString = window.localStorage.getItem(\"appState\");\n    let state: State = undefined;\n    try {\n        if (stateString !== undefined && stateString !== \"undefined\") {\n            state = JSON.parse(stateString);\n        }\n    }\n    catch (e) {\n        console.error(\"Failed to load state from local storage. Data:\", stateString, e.message);\n    }\n    console.log(\"Loaded state:\", state);\n    return state !== null ? state : undefined;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/persistence.ts\n **/","import * as React from \"react\";\nimport {connect} from \"react-redux\";\nimport {State} from \"../appState\";\nimport {IDatasourcesState, datasources} from \"./datasource\";\nimport * as _ from \"lodash\"\nimport {IDatasourceState} from \"../pluginApi/pluginTypes\";\nimport {IDatasourcePluginState, IDatasourcePluginsState} from \"./datasourcePlugins\";\nimport Dashboard from \"../dashboard\";\n\n\ninterface IDatasourceFramesProps {\n    datasources: IDatasourcesState\n    datasourcePlugins: IDatasourcePluginsState\n}\n\nclass DatasourceFrames extends React.Component<IDatasourceFramesProps, any> {\n\n    render() {\n        return <div style={{width:1, height: 1, position: \"fixed\", left: 0, top: 0}}>\n            {\n                _.valuesIn(this.props.datasources).map((dsState: IDatasourceState) => {\n                    const pluginLoaded = Dashboard.getInstance().datasourcePluginRegistry.hasPlugin(dsState.type)\n                    const datasourcePluginState = this.props.datasourcePlugins[dsState.type]\n                    return pluginLoaded\n                        ? <DatasourceIFrame key={dsState.id} datasourcePluginState={datasourcePluginState} datasourceState={dsState}/>\n                        : <div key={dsState.id}>Datasource Loading ...</div>\n                })\n            }\n        </div>\n    }\n}\n\nexport default connect(\n    (state: State) => {\n        return {\n            datasources: state.datasources,\n            datasourcePlugins: state.datasourcePlugins\n        };\n    },\n    (dispatch: any) => {\n        return {}\n    }\n)(DatasourceFrames)\n\ninterface IDatasourceIFrameProps {\n    datasourceState: IDatasourceState\n    datasourcePluginState: IDatasourcePluginState\n}\n\n\nclass DatasourceIFrame extends React.Component<IDatasourceIFrameProps, void> {\n\n    constructor(props: IDatasourceIFrameProps) {\n        super(props)\n    }\n\n    componentDidMount() {\n        const element: HTMLIFrameElement = this.refs['frame'] as HTMLIFrameElement;\n\n        // TODO: UI is loaded before the datasource is loaded to the registry, this throws then ...\n        const dsFactory = Dashboard.getInstance().datasourcePluginRegistry.getPlugin(this.props.datasourceState.type);\n        const dsInstance = dsFactory.getInstance(this.props.datasourceState.id)\n        dsInstance.iFrame = element;\n    }\n\n\n    // allow-popups allow-same-origin allow-modals allow-forms\n    // A sandbox that includes both the allow-same-origin and allow-scripts flags,\n    // then the framed page can reach up into the parent, and remove the sandbox attribute entirely.\n    // Only if the framed content comes from the same origin of course.\n\n    render() {\n        return <iframe id={'frame-' + this.props.datasourceState.id} ref=\"frame\" src={\"datasource.html#\" + this.props.datasourcePluginState.url} frameBorder=\"0\" width=\"100%\"\n                       height=\"100%\"\n                       scrolling=\"no\"\n                       sandbox=\"allow-scripts\">\n            Browser does not support iFrames.\n        </iframe>\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourceFrames.ui.tsx\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport * as Redux from \"redux\";\nimport thunk from \"redux-thunk\";\nimport * as createLogger from \"redux-logger\";\nimport * as Widgets from \"./widgets/widgets\";\nimport * as WidgetConfig from \"./widgets/widgetConfig.js\";\nimport * as Layouts from \"./layouts/layouts.js\";\nimport * as Datasource from \"./datasource/datasource\";\nimport * as DatasourceData from \"./datasource/datasourceData\";\nimport * as Global from \"./dashboard/global.js\";\nimport * as Import from \"./dashboard/import\";\nimport * as Modal from \"./modal/modalDialog.js\";\nimport * as Persist from \"./persistence\";\nimport * as Plugins from './pluginApi/pluginLoader'\nimport {reducer as formReducer} from \"redux-form\";\nimport * as Action from \"./actionNames\";\nimport * as  WidgetPlugins from \"./widgets/widgetPlugins\";\nimport * as DatasourcePlugins from \"./datasource/datasourcePlugins\";\nimport * as AppState from \"./appState\";\nimport * as Config from \"./config\";\nimport Dashboard from \"./dashboard\";\n\nexport interface DashboardStore extends Redux.Store<AppState.State> {\n    dashboard: Dashboard;\n}\n\n\n// TODO: name all reducers ***Reducer\nconst appReducer: AppState.Reducer = Redux.combineReducers<AppState.State>({\n    config: Config.config,\n    currentLayout: Layouts.currentLayout,\n    datasourceData: DatasourceData.datasourceData,\n    datasourcePlugins: DatasourcePlugins.datasourcePlugins,\n    datasources: Datasource.datasources,\n    form: formReducer,\n    global: Global.global,\n    layouts: Layouts.layouts,\n    modalDialog: Modal.modalDialog,\n    pluginLoader: Plugins.pluginLoaderReducer,\n    widgetConfig: WidgetConfig.widgetConfigDialog,  // TODO: Still used or replaced by modalDialog\n    widgetPlugins: WidgetPlugins.widgetPlugins,\n    widgets: Widgets.widgets\n});\n\nconst reducer: AppState.Reducer = (state: AppState.State, action: Redux.Action) => {\n    if (action.type === Action.CLEAR_STATE) {\n        state = undefined\n    }\n\n    state = Import.importReducer(state, action);\n\n    return appReducer(state, action);\n};\n\n\nconst logger = createLogger({\n    duration: false, // Print the duration of each action?\n    timestamp: true, // Print the timestamp with each action?\n    logErrors: true, // Should the logger catch, log, and re-throw errors?\n    predicate: (getState, action) => {\n        if (action.type.startsWith(\"redux-form\")) {\n            return false;\n        }\n\n        return !action.doNotLog;\n\n    }\n});\n\nexport function emptyState() {\n    return <AppState.State>{\n        config: null,\n        widgets: {},\n        datasources: {},\n        datasourceData: {},\n        datasourcePlugins: {},\n        widgetPlugins: {},\n        pluginLoader: {\n            loadingUrls: []\n        }\n    }\n}\n\n/**\n * Create a store as empty as possible\n */\nexport function createEmpty(options: any = {log: true}) {\n    return create(emptyState(), options);\n}\n\n\n/**\n * Create a store with default values\n */\nexport function createDefault(options: any = {log: true}): DashboardStore {\n    return create(undefined, options);\n}\n\nexport function testStoreOptions() {\n    return {log: false, persist: false}\n}\n\nexport function defaultStoreOptions() {\n    return {log: true, persist: true}\n}\n\n/**\n * Create a store and execute all side-effects to have a consistent app\n */\nexport function create(initialState?: AppState.State, options?: any): DashboardStore {\n    if (!initialState) {\n        initialState = <AppState.State>Persist.loadFromLocalStorage();\n    }\n\n    const middleware: Redux.Middleware[] = [];\n    middleware.push(thunk);\n\n    if (options.persist) {\n        middleware.push(Persist.persistenceMiddleware);\n    }\n    if (options.log) {\n        middleware.push(logger); // must be last\n    }\n\n    return <DashboardStore>Redux.createStore(\n        reducer,\n        initialState,\n        Redux.applyMiddleware(...middleware)\n    );\n}\n\nexport function clearState(): Redux.Action {\n    return {\n        type: Action.CLEAR_STATE\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store.ts\n **/"],"sourceRoot":""}